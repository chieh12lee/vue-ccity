import{s as Ht,r as F,c as rt,t as S,w as xi,a as ue,b as wi,i as Xt,d as Ni,e as mt,f as Ge,g as We,u as I,h as ce,n as He,j as zt,k as Ci,l as k,o as D,m as E,p as gt,q as dt,v as Xe,x as lt,y as Pe,z as pt,A as ft,B as jt,C as ae,F as oe,D as le,E as Oi,G as ze,_ as je,H as Di,I as Ri,J as Pi,K as Ui,L as Ue,M as Ze,N as _i,O as Yi,P as Li,Q as ie}from"./index-C81HdzYw.js";const Wt=Xt?window:void 0;function ki(i){var r;const a=S(i);return(r=a==null?void 0:a.$el)!=null?r:a}function xt(...i){const r=[],a=()=>{r.forEach(l=>l()),r.length=0},c=(l,d,f,m)=>(l.addEventListener(d,f,m),()=>l.removeEventListener(d,f,m)),u=rt(()=>{const l=mt(S(i[0])).filter(d=>d!=null);return l.every(d=>typeof d!="string")?l:void 0}),v=Ge(()=>{var l,d;return[(d=(l=u.value)==null?void 0:l.map(f=>ki(f)))!=null?d:[Wt].filter(f=>f!=null),mt(S(u.value?i[1]:i[0])),mt(I(u.value?i[2]:i[1])),S(u.value?i[3]:i[2])]},([l,d,f,m])=>{if(a(),!(l!=null&&l.length)||!(d!=null&&d.length)||!(f!=null&&f.length))return;const w=We(m)?{...m}:m;r.push(...l.flatMap(x=>d.flatMap(M=>f.map(G=>c(x,M,G,w)))))},{flush:"post"}),p=()=>{v(),a()};return ce(a),p}const kt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gt="__vueuse_ssr_handlers__",Gi=Wi();function Wi(){return Gt in kt||(kt[Gt]=kt[Gt]||{}),kt[Gt]}function Hi(i,r){return Gi[i]||r}function Xi(i){return i==null?"any":i instanceof Set?"set":i instanceof Map?"map":i instanceof Date?"date":typeof i=="boolean"?"boolean":typeof i=="string"?"string":typeof i=="object"?"object":Number.isNaN(i)?"any":"number"}const zi={boolean:{read:i=>i==="true",write:i=>String(i)},object:{read:i=>JSON.parse(i),write:i=>JSON.stringify(i)},number:{read:i=>Number.parseFloat(i),write:i=>String(i)},any:{read:i=>i,write:i=>String(i)},string:{read:i=>i,write:i=>String(i)},map:{read:i=>new Map(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i.entries()))},set:{read:i=>new Set(JSON.parse(i)),write:i=>JSON.stringify(Array.from(i))},date:{read:i=>new Date(i),write:i=>i.toISOString()}},_e="vueuse-storage";function ji(i,r,a,c={}){var u;const{flush:v="pre",deep:p=!0,listenToStorageChanges:l=!0,writeDefaults:d=!0,mergeDefaults:f=!1,shallow:m,window:w=Wt,eventFilter:x,onError:M=g=>{console.error(g)},initOnMounted:G}=c,R=(m?Ht:F)(typeof r=="function"?r():r),N=rt(()=>S(i));if(!a)try{a=Hi("getDefaultStorage",()=>{var g;return(g=Wt)==null?void 0:g.localStorage})()}catch(g){M(g)}if(!a)return R;const P=S(r),C=Xi(P),T=(u=c.serializer)!=null?u:zi[C],{pause:W,resume:$}=xi(R,()=>L(R.value),{flush:v,deep:p,eventFilter:x});ue(N,()=>_(),{flush:v});let Q=!1;const y=g=>{G&&!Q||_(g)},U=g=>{G&&!Q||wt(g)};w&&l&&(a instanceof Storage?xt(w,"storage",y,{passive:!0}):xt(w,_e,U)),G?wi(()=>{Q=!0,_()}):_();function O(g,X){if(w){const B={key:N.value,oldValue:g,newValue:X,storageArea:a};w.dispatchEvent(a instanceof Storage?new StorageEvent("storage",B):new CustomEvent(_e,{detail:B}))}}function L(g){try{const X=a.getItem(N.value);if(g==null)O(X,null),a.removeItem(N.value);else{const B=T.write(g);X!==B&&(a.setItem(N.value,B),O(X,B))}}catch(X){M(X)}}function b(g){const X=g?g.newValue:a.getItem(N.value);if(X==null)return d&&P!=null&&a.setItem(N.value,T.write(P)),P;if(!g&&f){const B=T.read(X);return typeof f=="function"?f(B,P):C==="object"&&!Array.isArray(B)?{...P,...B}:B}else return typeof X!="string"?X:T.read(X)}function _(g){if(!(g&&g.storageArea!==a)){if(g&&g.key==null){R.value=P;return}if(!(g&&g.key!==N.value)){W();try{(g==null?void 0:g.newValue)!==T.write(R.value)&&(R.value=b(g))}catch(X){M(X)}finally{g?He($):$()}}}}function wt(g){_(g.detail)}return R}function Zi(i,r={}){var a;const{pointerTypes:c,preventDefault:u,stopPropagation:v,exact:p,onMove:l,onEnd:d,onStart:f,initialValue:m,axis:w="both",draggingElement:x=Wt,containerElement:M,handle:G=i,buttons:R=[0]}=r,N=F((a=S(m))!=null?a:{x:0,y:0}),P=F(),C=y=>c?c.includes(y.pointerType):!0,T=y=>{S(u)&&y.preventDefault(),S(v)&&y.stopPropagation()},W=y=>{var U;if(!S(R).includes(y.button)||S(r.disabled)||!C(y)||S(p)&&y.target!==S(i))return;const O=S(M),L=(U=O==null?void 0:O.getBoundingClientRect)==null?void 0:U.call(O),b=S(i).getBoundingClientRect(),_={x:y.clientX-(O?b.left-L.left+O.scrollLeft:b.left),y:y.clientY-(O?b.top-L.top+O.scrollTop:b.top)};(f==null?void 0:f(_,y))!==!1&&(P.value=_,T(y))},$=y=>{if(S(r.disabled)||!C(y)||!P.value)return;const U=S(M),O=S(i).getBoundingClientRect();let{x:L,y:b}=N.value;(w==="x"||w==="both")&&(L=y.clientX-P.value.x,U&&(L=Math.min(Math.max(0,L),U.scrollWidth-O.width))),(w==="y"||w==="both")&&(b=y.clientY-P.value.y,U&&(b=Math.min(Math.max(0,b),U.scrollHeight-O.height))),N.value={x:L,y:b},l==null||l(N.value,y),T(y)},Q=y=>{S(r.disabled)||!C(y)||P.value&&(P.value=void 0,d==null||d(N.value,y),T(y))};if(Xt){const y=()=>{var U;return{capture:(U=r.capture)!=null?U:!0,passive:!S(u)}};xt(G,"pointerdown",W,y),xt(x,"pointermove",$,y),xt(x,"pointerup",Q,y)}return{...Ni(N),position:N,isDragging:rt(()=>!!P.value),style:rt(()=>`left:${N.value.x}px;top:${N.value.y}px;`)}}const Vi="/vue-ccity/assets/%E6%A8%99%E7%A4%BA-%E9%BB%9E%E6%93%8A-CMBxhjoO.webm",Bi="/vue-ccity/assets/menu-bg-B0-YP3Ea.svg",Ye="/vue-ccity/assets/icon-arrowup-D5BGWPi8.svg",Fi=zt({emits:["goPrev","goNext"],props:{width:{type:Number,default:50},height:{type:Number,default:60},prevHtml:{type:String,default:"&lsaquo;"},nextHtml:{type:String,default:"&rsaquo;"},isPrevPossible:{type:Boolean,required:!0},isNextPossible:{type:Boolean,required:!0}}}),he=(i,r)=>{const a=i.__vccOpts||i;for(const[c,u]of r)a[c]=u;return a},Qi={class:"carousel-3d-controls"},Ji=["innerHTML"],qi=["innerHTML"];function Ki(i,r,a,c,u,v){return D(),k("div",Qi,[E("a",{href:"#",class:pt(["prev",{disabled:!i.isPrevPossible}]),onClick:r[0]||(r[0]=Pe(p=>i.$emit("goPrev"),["prevent"])),style:lt(`width: ${i.width}px; height: ${i.height}px; line-height: ${i.height}px;`),"aria-label":"Previous slide"},[E("span",{innerHTML:i.prevHtml},null,8,Ji)],6),E("a",{href:"#",class:pt(["next",{disabled:!i.isNextPossible}]),onClick:r[1]||(r[1]=Pe(p=>i.$emit("goNext"),["prevent"])),style:lt(`width: ${i.width}px; height: ${i.height}px; line-height: ${i.height}px;`),"aria-label":"Next slide"},[E("span",{innerHTML:i.nextHtml},null,8,qi)],6)])}const $i=he(Fi,[["render",Ki],["__scopeId","data-v-717c3828"]]),tn=zt({components:{Controls:$i},props:{count:{type:Number,default:0},perspective:{type:Number,default:35},display:{type:Number,default:5},loop:{type:Boolean,default:!0},animationSpeed:{type:Number,default:500},dir:{type:String,default:"rtl"},width:{type:Number,default:360},height:{type:Number,default:270},border:{type:Number,default:1},space:{type:[Number,String],default:"auto"},startIndex:{type:Number,default:0},clickable:{type:Boolean,default:!0},disable3d:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:10},inverseScaling:{type:Number,default:300},controlsVisible:{type:Boolean,default:!1},controlsPrevHtml:{type:String,default:"&lsaquo;"},controlsNextHtml:{type:String,default:"&rsaquo;"},controlsWidth:{type:Number,default:50},controlsHeight:{type:Number,default:50},bias:{type:String,default:"left"},onMainSlideClick:{type:Function},oneDirectional:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0}},data(){return{viewport:0,currentIndex:0,total:0,dragOffsetX:0,dragStartX:0,dragOffsetY:0,dragStartY:0,mousedown:!1,zIndex:998,mutationObserver:new MutationObserver(()=>{}),autoplayInterval:0}},unmounted(){this.pauseAutoplay(),this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay)},watch:{count(){this.computeData()}},computed:{isLastSlide(){return this.currentIndex===this.total-1},isFirstSlide(){return this.currentIndex===0},isNextPossible(){return!(!this.loop&&this.isLastSlide)},isPrevPossible(){return!(!this.loop&&this.isFirstSlide)},slideWidth(){const i=this.viewport,r=this.width+this.border*2;return i<r&&typeof window>"u"?i:r},slideHeight(){const i=this.width+this.border*2,r=this.height+this.border*2,a=this.calculateAspectRatio(i,r);return this.slideWidth/a},visible(){return this.display>this.total?this.total:this.display},hasHiddenSlides(){return this.total>this.visible},leftIndices(){let i=(this.visible-1)/2;i=this.bias.toLowerCase()==="left"?Math.ceil(i):Math.floor(i);const r=[];for(let a=1;a<=i;a++)r.push(this.dir==="ltr"?(this.currentIndex+a)%this.total:(this.currentIndex-a)%this.total);return r},rightIndices(){let i=(this.visible-1)/2;i=this.bias.toLowerCase()==="right"?Math.ceil(i):Math.floor(i);const r=[];for(let a=1;a<=i;a++)r.push(this.dir==="ltr"?(this.currentIndex-a)%this.total:(this.currentIndex+a)%this.total);return r},leftOutIndex(){let i=(this.visible-1)/2;return i=this.bias.toLowerCase()==="left"?Math.ceil(i):Math.floor(i),i++,this.dir==="ltr"?this.total-this.currentIndex-i<=0?-(this.total-this.currentIndex-i):this.currentIndex+i:this.currentIndex-i},rightOutIndex(){let i=(this.visible-1)/2;return i=this.bias.toLowerCase()==="right"?Math.ceil(i):Math.floor(i),i++,this.dir==="ltr"?this.currentIndex-i:this.total-this.currentIndex-i<=0?-(this.total-this.currentIndex-i):this.currentIndex+i}},methods:{goNext(){this.isNextPossible&&(this.isLastSlide?this.goSlide(0):this.goSlide(this.currentIndex+1))},goPrev(){this.isPrevPossible&&(this.isFirstSlide?this.goSlide(this.total-1):this.goSlide(this.currentIndex-1))},goSlide(i){this.currentIndex=i<0||i>this.total-1?0:i,this.isLastSlide&&this.$emit("last-slide",this.currentIndex),this.$emit("before-slide-change",this.currentIndex),setTimeout(()=>this.animationEnd(),this.animationSpeed)},goFar(i){let r=i===this.total-1&&this.isFirstSlide?-1:i-this.currentIndex;this.isLastSlide&&i===0&&(r=1);const a=r<0?-r:r;let c=0,u=0;for(;u<a;)u+=1,setTimeout(()=>r<0?this.goPrev():this.goNext(),a===1?0:c),c+=this.animationSpeed/a},animationEnd(){this.$emit("after-slide-change",this.currentIndex)},handleMouseup(){this.mousedown=!1,this.dragOffsetX=0,this.dragOffsetY=0},handleMousedown(i){i.touches?i=i.touches[0]:i.preventDefault(),this.mousedown=!0,this.dragStartX=i.clientX,this.dragStartY=i.clientY},handleMousemove(i){if(!this.mousedown)return;i.touches&&(i=i.touches[0]);const r=i.clientX,a=i.clientY,c=this.dragStartX-r,u=this.dragStartY-a;this.dragOffsetX=c,this.dragOffsetY=u,!(Math.abs(this.dragOffsetY)>Math.abs(this.dragOffsetX))&&(this.dragOffsetX>this.minSwipeDistance?(this.handleMouseup(),this.goNext()):this.dragOffsetX<-this.minSwipeDistance&&(this.handleMouseup(),this.goPrev()))},attachMutationObserver(){const i=window.MutationObserver;if(i){const r={attributes:!0,childList:!0,characterData:!0};this.mutationObserver=new i(()=>{this.$nextTick(()=>{this.computeData()})}),this.$el&&this.mutationObserver.observe(this.$el,r)}},detachMutationObserver(){this.mutationObserver&&this.mutationObserver.disconnect()},getSlideCount(){let i=0;const r=this.$refs.slider;return r&&r.children&&(i=r.children.length),i},calculateAspectRatio(i,r){return Math.min(i/r)},computeData(i){this.total=this.getSlideCount(),(i||this.currentIndex>=this.total)&&(this.currentIndex=this.startIndex>this.total-1?this.total-1:this.startIndex),this.viewport=this.$el.clientWidth},setSize(){this.$el.style.cssText+="height:"+this.slideHeight+"px;",this.$el.childNodes[0].style.cssText+="width:"+this.slideWidth+"px; height:"+this.slideHeight+"px;"},pauseAutoplay(){this.autoplayInterval&&clearInterval(this.autoplayInterval)},startAutoplay(){this.autoplay&&(this.autoplayInterval=setInterval(()=>{this.dir==="ltr"?this.goPrev():this.goNext()},this.autoplayTimeout))}},mounted(){this.computeData(!0),this.attachMutationObserver(),window.addEventListener("resize",this.setSize),this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay),this.startAutoplay())},beforeUnmount(){this.detachMutationObserver(),window.removeEventListener("resize",this.setSize)}});function en(i,r,a,c,u,v){const p=Ci("Controls");return D(),k("div",{class:"carousel-3d-container",style:lt({height:i.slideHeight+"px"}),onTouchstart:r[0]||(r[0]=(...l)=>i.handleMousedown&&i.handleMousedown(...l)),onTouchend:r[1]||(r[1]=(...l)=>i.handleMouseup&&i.handleMouseup(...l)),onTouchmove:r[2]||(r[2]=(...l)=>i.handleMousemove&&i.handleMousemove(...l)),onMousedown:r[3]||(r[3]=(...l)=>i.handleMousedown&&i.handleMousedown(...l)),onMouseup:r[4]||(r[4]=(...l)=>i.handleMouseup&&i.handleMouseup(...l)),onMousemove:r[5]||(r[5]=(...l)=>i.handleMousemove&&i.handleMousemove(...l))},[E("div",{ref:"slider",class:"carousel-3d-slider",style:lt({width:i.slideWidth+"px",height:i.slideHeight+"px"})},[Xe(i.$slots,"default",{},void 0)],4),i.controlsVisible?(D(),gt(p,{key:0,"next-html":i.controlsNextHtml,"prev-html":i.controlsPrevHtml,width:i.controlsWidth,height:i.controlsHeight,"is-prev-possible":i.isPrevPossible,"is-next-possible":i.isNextPossible,onGoPrev:i.goPrev,onGoNext:i.goNext},null,8,["next-html","prev-html","width","height","is-prev-possible","is-next-possible","onGoPrev","onGoNext"])):dt("",!0)],36)}const nn=he(tn,[["render",en],["__scopeId","data-v-7af7631c"]]),sn=zt({props:{index:{type:Number}},data(){return{parent:this.$parent,styles:void 0,zIndex:999}},computed:{isCurrent(){return this.index===this.parent.currentIndex},leftIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.leftIndices)>this.parent.currentIndex-1?-1:this.getSideIndex(this.parent.leftIndices)},rightIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.rightIndices)>this.parent.total-this.parent.currentIndex-2?-1:this.getSideIndex(this.parent.rightIndices)},slideStyle(){let i=this.baseStyle();if(!this.isCurrent){const r=this.leftIndex,a=this.rightIndex;(a>=0||r>=0)&&(i=a>=0?this.calculatePosition(a,!0,this.zIndex):this.calculatePosition(r,!1,this.zIndex),i=Object.assign(i,{opacity:1,visibility:"visible"})),this.parent.hasHiddenSlides&&(this.matchIndex(this.parent.leftOutIndex)?i=this.calculatePosition(this.parent.leftIndices.length-1,!1,this.zIndex):this.matchIndex(this.parent.rightOutIndex)&&(i=this.calculatePosition(this.parent.rightIndices.length-1,!0,this.zIndex)))}return i},computedClasses(){return{[`left-${this.leftIndex+1}`]:this.leftIndex>=0,[`right-${this.rightIndex+1}`]:this.rightIndex>=0,current:this.isCurrent}}},methods:{getSideIndex(i){let r=-1;return i.forEach((a,c)=>{this.matchIndex(a)&&(r=c)}),r},matchIndex(i){return i>=0?this.index===i:this.parent.total+i===this.index},baseStyle(){return{"border-width":this.parent.border+"px",width:this.parent.slideWidth+"px",height:this.parent.slideHeight+"px",transition:" transform "+this.parent.animationSpeed+"ms,                opacity "+this.parent.animationSpeed+"ms,                visibility "+this.parent.animationSpeed+"ms"}},calculatePosition(i,r,a){const c=this.baseStyle(),u=this.parent.disable3d?0:parseInt(this.parent.inverseScaling)+(i+1)*100,v=this.parent.disable3d?0:parseInt(this.parent.perspective),p=this.parent.space==="auto"?(i+1)*(this.parent.width/1.5):(i+1)*this.parent.space,l=r?"translateX("+p+"px) translateZ(-"+u+"px) rotateY(-"+v+"deg)":"translateX(-"+p+"px) translateZ(-"+u+"px) rotateY("+v+"deg)",d=this.parent.space==="auto"?0:(i+1)*this.parent.space;return Object.assign(c,{transform:l,top:d,zIndex:a-(Math.abs(i)+1)})},goTo(){if(!this.isCurrent)this.parent.clickable===!0&&this.parent.goFar(this.index);else{const{index:i}=this;this.parent.onMainSlideClick({index:i})}}}});function rn(i,r,a,c,u,v){return D(),k("div",{class:pt(["carousel-3d-slide",i.computedClasses]),style:lt(i.slideStyle),onClick:r[0]||(r[0]=p=>i.goTo())},[Xe(i.$slots,"default",{index:i.index,isCurrent:i.isCurrent,leftIndex:i.leftIndex,rightIndex:i.rightIndex},void 0)],6)}const an=he(sn,[["render",rn],["__scopeId","data-v-f75c401f"]]),on=["src"],ln={__name:"SliderMenu",emits:["update"],setup(i,{emit:r}){const a=ft("chapters"),c=r,u=v=>{var p;c("update",(p=a[v.index])==null?void 0:p.id)};return jt(()=>{}),(v,p)=>(D(),gt(I(nn),{perspective:0,space:350,display:9,onMainSlideClick:u,"start-index":Number(v.$route.params.id)-1},{default:ae(()=>[(D(!0),k(oe,null,le(I(a),(l,d)=>(D(),gt(I(an),{index:d},{default:ae(()=>[E("div",null,[E("img",{src:l.thumbnail,alt:""},null,8,on)])]),_:2},1032,["index"]))),256))]),_:1},8,["start-index"]))}},un={key:0},cn={key:1},hn={class:"w-full"},dn={__name:"Index",emits:["open","close"],setup(i,{emit:r}){const{toggle:a,active:c}=ft("menu"),u=r,v=Oi(),p=()=>{a(),u(c.value?"open":"close")},l=d=>{p(),v.push({name:"main",params:{id:d}})};return(d,f)=>(D(),k("div",{class:pt(["w-full flex flex-col transition-all h-[380px]",I(c)?"translate-y-0":"translate-y-[100%]"])},[f[2]||(f[2]=E("img",{class:"absolute bottom-0 left-0 w-full",src:Bi,alt:""},null,-1)),E("div",{class:pt(["cursor-pointer absolute left-[50%] ml-[-19px] top-[70px] flex flex-col items-center z-50",I(c)?"mt-[0px]":"-mt-[140px]"]),onClick:p},[I(c)?(D(),k("span",cn,f[1]||(f[1]=[E("img",{class:"scale-[-1]",src:Ye,alt:""},null,-1)]))):(D(),k("span",un,f[0]||(f[0]=[E("img",{src:Ye,alt:""},null,-1)])))],2),E("div",hn,[ze(ln,{onUpdate:l})])],2))}},fn=()=>{const i=F(!1);return{toggle:()=>{i.value=!i.value},active:i}},pn=i=>{i||console.log("沒有資料");let r;const a=F(null),c=F(null),u=F(null),v=F(!1),p=F(0);function l(){if(a.value&&(p.value=a.value.currentTime,a.value&&r)){const T=r.find(W=>a.value.currentTime-W.time>=-.1&&!W.active);T&&!u.value&&(T.active=!0,G(),u.value={...T},v.value=!0)}}const d=()=>{console.log("end")},f=()=>{r=i.map(T=>({...T,active:!1}))},m=()=>{v.value=!1,u.value=!1,f()},w=T=>{a.value&&(a.value.currentTime=r[T].time,r.forEach((W,$)=>{$>=T+1&&(W.active=!1)}),x())},x=()=>{!a.value||v.value||a.value.play()},M=()=>{m(),a.value.currentTime=0,a.value.play(),P.replay()},G=()=>{a.value.pause()},N={dom:a,play:x,jump:w,replay:M,pause:G,seek:T=>{m(),r.forEach(W=>{W.time<=T&&(W.active=!0)}),a.value.currentTime=T,x()}},P={dom:c,replay:()=>{c.value&&(c.value.currentTime=0,c.value.play())},play:()=>{c.value&&c.value.play()},pause:()=>{c.value&&c.value.pause()}},C=()=>{var T;v.value=!1,(T=u.value)!=null&&T.onCompleted?u.value.onCompleted(N,P,r):x(),u.value=null};return jt(()=>{M()}),{videoPlayer:a,audioPlayer:c,onTimeUpdate:l,onActionCompleted:C,currentPause:u,showActionComponent:v,play:x,pause:G,replay:M,onEnd:d,video:N,audio:P}},vn=({domId:i})=>{const r=F(!1),a=()=>{He(()=>{window.$(i).sketchIt({tools:!0,color:"#d50011"})})};return{toggle:()=>{r.value=!r.value,r.value?a():window.$(i).off()},active:r,trigger:a}},mn="/vue-ccity/assets/toolbar-B4Y9HIHE.png",gn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAwCAYAAADkStGdAAAACXBIWXMAAAsSAAALEgHS3X78AAAByklEQVRYhe2Y0W2DMBCG/0Z5hw2K8ADNBmk3yAbNCB2hGzQbtN0gmaDJBuQd03QDMoErR3eVa7CxLVL1gV9CCDD++O98xgClVNRW11LF3jPDH2iCTJB/ApGyKQC8S9nkV4FI2awBfAJ4BHCi4/Eg1OErgB2ABw3Rx1I29yH33+iyHwDk1GkLYCFE2ZrnhCiLMZw8Acj0XgP0CdpvANyGhC0U8iVEubXOa8iZrqdDpGxW5OLZvkZu3gDcSdkskiEAVrS3XbA2VrtkyI5zYUuIUif/mAyhEGQeF6wthcxZoD4nQ6GCdd3pxgfRhXZ0hYolRFnRKHMWpg+yBLD3AQztoyHGdBEKqagwe6vf5YQhVSCEH6a3XlwQ3fhMQ3RQQpTJkFAXrKMrLx0IjffbiHywTjFOuGGsE90+6yvKMSHOvPRBLsMwNOmGuH0nLy4nh0iA+VDB4fJOJR4dQsOVJeSD1Q5CjOkkFVLRQ/7S3DrmeBahy52++/W7iGbni1yQlwSAU511F70Ro5ahllrTBUIWd2NoTrHvLHlG1HpGFbq8Quc59Vv8JF6IMmU0OUUR+sD0zThBrg7hZebY4ndSy7+X8tjfSyFbXctCKYVvQ1EsA2fiTuEAAAAASUVORK5CYII=",An="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAACXBIWXMAAAsSAAALEgHS3X78AAABPklEQVRIibXXzXGDMBAF4Oc0EDoIHUQlpASXYHeSElwC7iAluARK8DG50cHzaGZ3RpFBP8taM3vAIH1eJAF7IAmnNgIIEjcAM4Blc+gI74yB5IXPbSF52hrbA52FvJP8JvlFckr+xiruhU6V80/4q9Aq/kp07fqjFe5FNcZkHXTDVlTjJn1DPH5r3MKD7M1PAFcAJ8PW/0nGasp4b6Z5xmPLrfZCu+bYC+1e1d5o0z4OcvEinV3RWsb6vJ0NeBHN4bU5teBVNIXzt4wVb0IVLmXagzejCl8yJJ/jFrwLVXiRp0ppgZXwblThSfBgwEcLqnAQ2ILTgqareg/ejTLbxxbcHHnHGj7IOXrDJdy0erdiq5LQagBSEUAqhQ8AZwCT4QvkXyuVMBGPnyvvyW9/AH73ojGZWu0Us4zh24D7A5KxEQefrk9eAAAAAElFTkSuQmCC",yn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVRIibWV0VGDQBRFj44ffsYO0oGxAu3AdKDpIPIKUAtYJh0YOyAdxAqMHVhC8uUnznMWZgO7CMvmzjDADNzDW97dd1aWJSEZk8+AFbAUyXbBBzt08Y/51t7uY8xV5z3M70Sy72QAj3nU0ngBqc2PAKcwrwGnMlf9takx+Q9wCWyAGHN9ZyuStbqtAoTD0F8Hm5mVC6oAj8Ab8GWXaFDfG5PPNYzAbdOjTvJYSMij7iKRbA0sgGtdT2PyyVBAw+PlqIKur4iopADugatWklNUAqztee7di8ZCRLLCXk69AA9kNgTgaBIEOJCbyPCp9p0DJ1Z26/kEnjorGKGlPRfJAfbrH4B3HVRJAc6ufKiCFpzJA42ngAb02ZrXY7Y3wCZcj6Y0I9rKqg99xp3hKSrQreRVf2hrUAG/REWf6EvYr+sAAAAASUVORK5CYII=",Tn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsSAAALEgHS3X78AAABOUlEQVRIibWWwVHDMBAAFw8/eOTHEz/5kQ6gA+ggoQR0BZACkIYS4JF/6CDpIOkAOggVmBFzzijgSFZk7uWx5N053enGJ03T8J9RlbCtdY217jW2p0gAvAGTmKRIIGKmKUlpBklJsSAlGUQQkwwmOCTpvAfWujHgN4+PdF0BF8Dz6S/wCPDmO321AbaZcM880+f1TqDwJXCtac5EzEcOOWCcAw8iZh5m0ML9QvR2JuB7jEoXp7rwOCScoItmwKeIeRkS/iOw1tXApRZ3UHibQa3Py1xBn7qVXrRtqinCLhrl0kXMbWpPJWLao7nPFfSJ9ojedX7UZbi/EbYpx3RSKnbDzlrnJU/Ayh+XiMmdQZ2xN00DyZdmswhqVC5Qie8ML7qJfLcRMb1G+cH/Ii24l3UVfi1iFkk68A1ogY7nqKhX+QAAAABJRU5ErkJggg==",In="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAzCAYAAADmWEQdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuMTQ2Mjg5OSwgMjAyMy8wNi8yNS0yMDowMTo1NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NDkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NDkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1ZDZjMmZjLTI4NjctNjk0Zi05YTRiLTg3ZWU1OGU1MjYxZSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NWQ2YzJmYy0yODY3LTY5NGYtOWE0Yi04N2VlNThlNTI2MWUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NWQ2YzJmYy0yODY3LTY5NGYtOWE0Yi04N2VlNThlNTI2MWUiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1ZDZjMmZjLTI4NjctNjk0Zi05YTRiLTg3ZWU1OGU1MjYxZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvb7SekAAALySURBVHic7ZoxaOJQGMdfjwZ6Dq8ON7g43A2XQBYD7eLi0ClLJge7iYIFlwTHbl0cxYfg4CCCSwenLJkcXDJch2SoEG+4o0hKODjw3lAEl5vClXJnk9Iv7115vzEavj8/JP/3BQ/CMDxHgtfkxyFCSEh9XW7fsU7wFhFSARBSARBSARBSARBSARBSARBSARBSARBSARBSARBSAfgvpFJKJdYZ0sC9VEqp1O12y6PRSGWdJSncSx2PxypCCHmeV3Qcp8g6TxIOWQfYx3Q6le/u7j5cXV0t7u/v3xNCygghpOv6mnW2fXD7S3Ucp+i67seLi4svGOOdoii0Vqv5tm2rQRBg1vn2waXUIAiwbdtqs9m8URSFxtcrlUpkGMaSEFLmWSx3UimlEiGkbBjG8uTk5OfTz3VdX5+dnX0lhJR5PRVwJTVuelmWo33PzWq1+k2W5ajb7XIpliup4/FYPTo62lmW5T/3Xcuy/EKh8ItHsdxInU6nchRFx51O5ybpPY1GY4nQn2MXL3AhNW76er3uYYx3Se/DGO8uLy/dKIqO+/1+CTBiKphLDYIAz2az0tOmT0osdrVaFWaz2SeIjGlhKjUMwxwhpFytVv2/NX1SMMY70zTd+Xz+mYeti5lUSqk0GAxOn2v6pCiKQk3TdG3bVheLReE1Mr4UZlKHw2EpadMnRVEUahjG8vr6usRyOWAidTQaqZvNJpem6ZOi6/qa9daVuVTHcYqe5xXTNn0adF1fa5q2nkwmGoszbKZS46Y3TdN9SdOnodVqLVktB5lJfdz00EJjLMvy8/n8Q6/XO81iXkwmUuOm1zRtnfW70Ha77W+3WynL5SATqcPhsJTP5x9ardYyi3mPYbF1gUt1HKe42Wxy7Xbbh571LzDGu3q97q1Wq0IYhjnoeQdhGNrQQyilElTTc5gjm7+n8yAUoexyMH+h8hYRUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgE4RAjdsg7xxvj+G1kHQEHrt1ebAAAAAElFTkSuQmCC",En="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAzCAYAAADmWEQdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFu2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuMTQ2Mjg5OSwgMjAyMy8wNi8yNS0yMDowMTo1NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NTYrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NTYrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjExODlmMThjLTE4MmUtZTI0NC1iYjNiLWZiZTkzODNiMzAxMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3OGNkNGYyMC00YzE3LWZkNGMtYWMzYS00NDU1NmI1MTc0MGMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3OGNkNGYyMC00YzE3LWZkNGMtYWMzYS00NDU1NmI1MTc0MGMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjc4Y2Q0ZjIwLTRjMTctZmQ0Yy1hYzNhLTQ0NTU2YjUxNzQwYyIgc3RFdnQ6d2hlbj0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTg5ZjE4Yy0xODJlLWUyNDQtYmIzYi1mYmU5MzgzYjMwMTIiIHN0RXZ0OndoZW49IjIwMjQtMDUtMDlUMTU6MTM6NTYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7+4gaWAAADF0lEQVR4nO2asWviUBzHfz0qlIO+Cu3wDilyHc5AlzjYIUuHTlkyOfQGly5CQdLZPyB0KpFCwYJQ6OKQKYtThywZWgeHSpMbTkQC4egNfYMILjdIOK6kVnr+8tLyPpMI5vvjg/p9P81KEATfQbBMfq0CgJC6XO4/8Z7gIyKkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIoAu1XEcenl5uYudswimacpBEHzGzkGXWiwWfz88PHy5vr4uYGfNwzRNOQzDjfX19Sl2FrpUQsi0Wq3euq77tdPpbGPnxdHpdLZ936e1Wu2OEPL+pQIASJLEdF13bdvedRyHJpEZ0e12N23b3tV13c3lcuMkMhMrKkmSmKZp/Xa7LXueR5LI9DyPtFqtkqZpfUmSWBKZAAm3v6qqI03T+o1GQ8EWyxjLXF1dFRVFGaiqOsLMek7iRypVVUeKogyazeYeYyyDlXN2dlailD5VKhUfK+MluJxTK5WKn8/nHw3DUDDEmqYpTyaTzNHRUX/Z114Ebof/k5OTXjabHRuGoSzzupZl7fi+T+v1uptE08fBdaM6Pj7uAczeWcu4nuM49Obm5puu69yEAnCWSgiZ1ut1NwzDjf8V63keabfbctJNHwf33Z8QMq3Vane+79O3LgeMsUyz2dzj0fRxcJcKAJDL5cbRcvAWsYZhKPl8/pFH08eRCqkAf7cuy7Lkbre7uejroq8NXk0fR2qkAszElsvlXqvVKi2yHFiWtTMcDrd4Nn0cqZIK8O/WNe9nuqjpq9XqbZqEAqRQKsBMbKFQCM/Pz0txy0HU9IeHhz3eTR9HKqUCzJYDSunT860ravqDg4Mf+/v7Ic8ZXyK1UgFmYtfW1qYXFxdy9FzU9OVy+SfH0eayEgSBzXuIeTDGMoZhKJTSJwCAMAw3Tk9PHd5zzSH9N/1GW9dwONyKmp73TK+xynuARYj+koke857nNd6FVIDZGZb3DIuS+o//e0RIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRWAVAO55D/HBGPwBet40P8d2yn8AAAAASUVORK5CYII=",bn={class:""},Sn={class:"fixed right-0 top-0 z-50 h-full flex flex-col"},Mn={class:"h-[1010px] h-full w-[85px]"},xn={key:0,class:"mt-[165px]"},wn={class:"relative h-[200px] w-full flex flex-col items-center justify-between"},Nn=["data-width"],Cn={class:"relative flex flex-col items-center space-y-6 mt-8"},On=["data-color"],Dn={key:0,src:In,alt:""},Rn={key:1,src:En,alt:""},Pn={key:0,id:"ex3",class:"w-full h-full fixed inset-0"},Un={__name:"Index",setup(i){const{toggle:r,active:a}=ft("sketchit"),c=ft("state"),u=ft("intro"),v=()=>{c.isEffecting=!c.isEffecting,r(),a.value?u.pause():u.play()};return(p,l)=>(D(),k("div",bn,[E("div",Sn,[E("div",Mn,[I(a)?(D(),k("div",xn,[l[0]||(l[0]=E("img",{class:"absolute inset-0 w-full h-full",src:mn,alt:""},null,-1)),E("div",wn,[(D(),k(oe,null,le([25,20,15,10,5],(d,f)=>E("div",null,[E("div",{"data-control":"#ex3","data-width":d,class:"bg-white rounded-full",style:lt({width:d+"px",height:d+"px"})},null,12,Nn)])),64))]),l[1]||(l[1]=Di('<div class="relative flex flex-col items-center space-y-6 mt-12" data-v-d89bd769><div class="icon opacity-50" data-control="#ex3" data-tool="pen" data-v-d89bd769><img src="'+gn+'" width="25" height="50" data-v-d89bd769></div><div class="icon opacity-50" data-control="#ex3" data-tool="eraser" data-v-d89bd769><img src="'+An+'" data-v-d89bd769></div><div class="icon" data-control="#ex3" data-options="undo" data-v-d89bd769><img src="'+yn+'" width="34" height="34" data-v-d89bd769></div><div class="icon" data-control="#ex3" data-options="redo" data-v-d89bd769><img src="'+Tn+'" width="34" height="34" data-v-d89bd769></div></div>',1)),E("div",Cn,[(D(),k(oe,null,le(["#d50011","#f9df00","#0691d7","#8aaa1b","#fdfcf2"],d=>E("div",{"data-control":"#ex3","data-color":d,class:"w-[30px] h-[30px] rounded-full"},[E("div",{class:"w-full h-full rounded-full",style:lt("background-color:"+d)},null,4)],8,On)),64))])])):dt("",!0)]),E("div",{onClick:v,class:"relative"},[I(a)?(D(),k("img",Rn)):(D(),k("img",Dn))])]),I(a)?(D(),k("div",Pn)):dt("",!0)]))}},_n=je(Un,[["__scopeId","data-v-d89bd769"]]);function Yn(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var ne={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var Le;function Ln(){return Le||(Le=1,function(i){(function(r,a,c,u){var v=["","webkit","Moz","MS","ms","o"],p=a.createElement("div"),l="function",d=Math.round,f=Math.abs,m=Date.now;function w(t,e,n){return setTimeout(T(t,n),e)}function x(t,e,n){return Array.isArray(t)?(M(t,n[e],n),!0):!1}function M(t,e,n){var s;if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==u)for(s=0;s<t.length;)e.call(n,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(n,t[s],s,t)}function G(t,e,n){var s="DEPRECATED METHOD: "+e+`
`+n+` AT 
`;return function(){var o=new Error("get-stack-trace"),h=o&&o.stack?o.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",A=r.console&&(r.console.warn||r.console.log);return A&&A.call(r.console,s,h),t.apply(this,arguments)}}var R;typeof Object.assign!="function"?R=function(e){if(e===u||e===null)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(e),s=1;s<arguments.length;s++){var o=arguments[s];if(o!==u&&o!==null)for(var h in o)o.hasOwnProperty(h)&&(n[h]=o[h])}return n}:R=Object.assign;var N=G(function(e,n,s){for(var o=Object.keys(n),h=0;h<o.length;)(!s||s&&e[o[h]]===u)&&(e[o[h]]=n[o[h]]),h++;return e},"extend","Use `assign`."),P=G(function(e,n){return N(e,n,!0)},"merge","Use `assign`.");function C(t,e,n){var s=e.prototype,o;o=t.prototype=Object.create(s),o.constructor=t,o._super=s,n&&R(o,n)}function T(t,e){return function(){return t.apply(e,arguments)}}function W(t,e){return typeof t==l?t.apply(e&&e[0]||u,e):t}function $(t,e){return t===u?e:t}function Q(t,e,n){M(L(e),function(s){t.addEventListener(s,n,!1)})}function y(t,e,n){M(L(e),function(s){t.removeEventListener(s,n,!1)})}function U(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function O(t,e){return t.indexOf(e)>-1}function L(t){return t.trim().split(/\s+/g)}function b(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var s=0;s<t.length;){if(n&&t[s][n]==e||!n&&t[s]===e)return s;s++}return-1}function _(t){return Array.prototype.slice.call(t,0)}function wt(t,e,n){for(var s=[],o=[],h=0;h<t.length;){var A=t[h][e];b(o,A)<0&&s.push(t[h]),o[h]=A,h++}return s=s.sort(function(z,Z){return z[e]>Z[e]}),s}function g(t,e){for(var n,s,o=e[0].toUpperCase()+e.slice(1),h=0;h<v.length;){if(n=v[h],s=n?n+o:e,s in t)return s;h++}return u}var X=1;function B(){return X++}function de(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var Be=/mobile|tablet|ip(ad|hone|od)|android/i,fe="ontouchstart"in r,Fe=g(r,"PointerEvent")!==u,Qe=fe&&Be.test(navigator.userAgent),At="touch",Je="pen",Zt="mouse",qe="kinect",Ke=25,j=1,ut=2,Y=4,V=8,Nt=1,yt=2,Tt=4,It=8,Et=16,tt=yt|Tt,ct=It|Et,pe=tt|ct,ve=["x","y"],Ct=["clientX","clientY"];function J(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(s){W(t.options.enable,[t])&&n.handler(s)},this.init()}J.prototype={handler:function(){},init:function(){this.evEl&&Q(this.element,this.evEl,this.domHandler),this.evTarget&&Q(this.target,this.evTarget,this.domHandler),this.evWin&&Q(de(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&y(this.element,this.evEl,this.domHandler),this.evTarget&&y(this.target,this.evTarget,this.domHandler),this.evWin&&y(de(this.element),this.evWin,this.domHandler)}};function $e(t){var e,n=t.options.inputClass;return n?e=n:Fe?e=Bt:Qe?e=Rt:fe?e=Ft:e=Dt,new e(t,ti)}function ti(t,e,n){var s=n.pointers.length,o=n.changedPointers.length,h=e&j&&s-o===0,A=e&(Y|V)&&s-o===0;n.isFirst=!!h,n.isFinal=!!A,h&&(t.session={}),n.eventType=e,ei(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function ei(t,e){var n=t.session,s=e.pointers,o=s.length;n.firstInput||(n.firstInput=me(e)),o>1&&!n.firstMultiple?n.firstMultiple=me(e):o===1&&(n.firstMultiple=!1);var h=n.firstInput,A=n.firstMultiple,H=A?A.center:h.center,z=e.center=ge(s);e.timeStamp=m(),e.deltaTime=e.timeStamp-h.timeStamp,e.angle=Vt(H,z),e.distance=Ot(H,z),ii(n,e),e.offsetDirection=ye(e.deltaX,e.deltaY);var Z=Ae(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=Z.x,e.overallVelocityY=Z.y,e.overallVelocity=f(Z.x)>f(Z.y)?Z.x:Z.y,e.scale=A?ri(A.pointers,s):1,e.rotation=A?si(A.pointers,s):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,ni(n,e);var it=t.element;U(e.srcEvent.target,it)&&(it=e.srcEvent.target),e.target=it}function ii(t,e){var n=e.center,s=t.offsetDelta||{},o=t.prevDelta||{},h=t.prevInput||{};(e.eventType===j||h.eventType===Y)&&(o=t.prevDelta={x:h.deltaX||0,y:h.deltaY||0},s=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=o.x+(n.x-s.x),e.deltaY=o.y+(n.y-s.y)}function ni(t,e){var n=t.lastInterval||e,s=e.timeStamp-n.timeStamp,o,h,A,H;if(e.eventType!=V&&(s>Ke||n.velocity===u)){var z=e.deltaX-n.deltaX,Z=e.deltaY-n.deltaY,it=Ae(s,z,Z);h=it.x,A=it.y,o=f(it.x)>f(it.y)?it.x:it.y,H=ye(z,Z),t.lastInterval=e}else o=n.velocity,h=n.velocityX,A=n.velocityY,H=n.direction;e.velocity=o,e.velocityX=h,e.velocityY=A,e.direction=H}function me(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:d(t.pointers[n].clientX),clientY:d(t.pointers[n].clientY)},n++;return{timeStamp:m(),pointers:e,center:ge(e),deltaX:t.deltaX,deltaY:t.deltaY}}function ge(t){var e=t.length;if(e===1)return{x:d(t[0].clientX),y:d(t[0].clientY)};for(var n=0,s=0,o=0;o<e;)n+=t[o].clientX,s+=t[o].clientY,o++;return{x:d(n/e),y:d(s/e)}}function Ae(t,e,n){return{x:e/t||0,y:n/t||0}}function ye(t,e){return t===e?Nt:f(t)>=f(e)?t<0?yt:Tt:e<0?It:Et}function Ot(t,e,n){n||(n=ve);var s=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.sqrt(s*s+o*o)}function Vt(t,e,n){n||(n=ve);var s=e[n[0]]-t[n[0]],o=e[n[1]]-t[n[1]];return Math.atan2(o,s)*180/Math.PI}function si(t,e){return Vt(e[1],e[0],Ct)+Vt(t[1],t[0],Ct)}function ri(t,e){return Ot(e[0],e[1],Ct)/Ot(t[0],t[1],Ct)}var ai={mousedown:j,mousemove:ut,mouseup:Y},oi="mousedown",li="mousemove mouseup";function Dt(){this.evEl=oi,this.evWin=li,this.pressed=!1,J.apply(this,arguments)}C(Dt,J,{handler:function(e){var n=ai[e.type];n&j&&e.button===0&&(this.pressed=!0),n&ut&&e.which!==1&&(n=Y),this.pressed&&(n&Y&&(this.pressed=!1),this.callback(this.manager,n,{pointers:[e],changedPointers:[e],pointerType:Zt,srcEvent:e}))}});var ui={pointerdown:j,pointermove:ut,pointerup:Y,pointercancel:V,pointerout:V},ci={2:At,3:Je,4:Zt,5:qe},Te="pointerdown",Ie="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(Te="MSPointerDown",Ie="MSPointerMove MSPointerUp MSPointerCancel");function Bt(){this.evEl=Te,this.evWin=Ie,J.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}C(Bt,J,{handler:function(e){var n=this.store,s=!1,o=e.type.toLowerCase().replace("ms",""),h=ui[o],A=ci[e.pointerType]||e.pointerType,H=A==At,z=b(n,e.pointerId,"pointerId");h&j&&(e.button===0||H)?z<0&&(n.push(e),z=n.length-1):h&(Y|V)&&(s=!0),!(z<0)&&(n[z]=e,this.callback(this.manager,h,{pointers:n,changedPointers:[e],pointerType:A,srcEvent:e}),s&&n.splice(z,1))}});var hi={touchstart:j,touchmove:ut,touchend:Y,touchcancel:V},di="touchstart",fi="touchstart touchmove touchend touchcancel";function Ee(){this.evTarget=di,this.evWin=fi,this.started=!1,J.apply(this,arguments)}C(Ee,J,{handler:function(e){var n=hi[e.type];if(n===j&&(this.started=!0),!!this.started){var s=pi.call(this,e,n);n&(Y|V)&&s[0].length-s[1].length===0&&(this.started=!1),this.callback(this.manager,n,{pointers:s[0],changedPointers:s[1],pointerType:At,srcEvent:e})}}});function pi(t,e){var n=_(t.touches),s=_(t.changedTouches);return e&(Y|V)&&(n=wt(n.concat(s),"identifier")),[n,s]}var vi={touchstart:j,touchmove:ut,touchend:Y,touchcancel:V},mi="touchstart touchmove touchend touchcancel";function Rt(){this.evTarget=mi,this.targetIds={},J.apply(this,arguments)}C(Rt,J,{handler:function(e){var n=vi[e.type],s=gi.call(this,e,n);s&&this.callback(this.manager,n,{pointers:s[0],changedPointers:s[1],pointerType:At,srcEvent:e})}});function gi(t,e){var n=_(t.touches),s=this.targetIds;if(e&(j|ut)&&n.length===1)return s[n[0].identifier]=!0,[n,n];var o,h,A=_(t.changedTouches),H=[],z=this.target;if(h=n.filter(function(Z){return U(Z.target,z)}),e===j)for(o=0;o<h.length;)s[h[o].identifier]=!0,o++;for(o=0;o<A.length;)s[A[o].identifier]&&H.push(A[o]),e&(Y|V)&&delete s[A[o].identifier],o++;if(H.length)return[wt(h.concat(H),"identifier"),H]}var Ai=2500,be=25;function Ft(){J.apply(this,arguments);var t=T(this.handler,this);this.touch=new Rt(this.manager,t),this.mouse=new Dt(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}C(Ft,J,{handler:function(e,n,s){var o=s.pointerType==At,h=s.pointerType==Zt;if(!(h&&s.sourceCapabilities&&s.sourceCapabilities.firesTouchEvents)){if(o)yi.call(this,n,s);else if(h&&Ti.call(this,s))return;this.callback(e,n,s)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function yi(t,e){t&j?(this.primaryTouch=e.changedPointers[0].identifier,Se.call(this,e)):t&(Y|V)&&Se.call(this,e)}function Se(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var s=this.lastTouches,o=function(){var h=s.indexOf(n);h>-1&&s.splice(h,1)};setTimeout(o,Ai)}}function Ti(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,s=0;s<this.lastTouches.length;s++){var o=this.lastTouches[s],h=Math.abs(e-o.x),A=Math.abs(n-o.y);if(h<=be&&A<=be)return!0}return!1}var Me=g(p.style,"touchAction"),xe=Me!==u,we="compute",Ne="auto",Qt="manipulation",ht="none",bt="pan-x",St="pan-y",Pt=Ei();function Jt(t,e){this.manager=t,this.set(e)}Jt.prototype={set:function(t){t==we&&(t=this.compute()),xe&&this.manager.element.style&&Pt[t]&&(this.manager.element.style[Me]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return M(this.manager.recognizers,function(e){W(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),Ii(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var s=this.actions,o=O(s,ht)&&!Pt[ht],h=O(s,St)&&!Pt[St],A=O(s,bt)&&!Pt[bt];if(o){var H=t.pointers.length===1,z=t.distance<2,Z=t.deltaTime<250;if(H&&z&&Z)return}if(!(A&&h)&&(o||h&&n&tt||A&&n&ct))return this.preventSrc(e)},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function Ii(t){if(O(t,ht))return ht;var e=O(t,bt),n=O(t,St);return e&&n?ht:e||n?e?bt:St:O(t,Qt)?Qt:Ne}function Ei(){if(!xe)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){t[n]=e?r.CSS.supports("touch-action",n):!0}),t}var Ut=1,q=2,vt=4,at=8,nt=at,Mt=16,et=32;function st(t){this.options=R({},this.defaults,t||{}),this.id=B(),this.manager=null,this.options.enable=$(this.options.enable,!0),this.state=Ut,this.simultaneous={},this.requireFail=[]}st.prototype={defaults:{},set:function(t){return R(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(x(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=_t(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return x(t,"dropRecognizeWith",this)?this:(t=_t(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(x(t,"requireFailure",this))return this;var e=this.requireFail;return t=_t(t,this),b(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(x(t,"dropRequireFailure",this))return this;t=_t(t,this);var e=b(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,n=this.state;function s(o){e.manager.emit(o,t)}n<at&&s(e.options.event+Ce(n)),s(e.options.event),t.additionalEvent&&s(t.additionalEvent),n>=at&&s(e.options.event+Ce(n))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=et},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(et|Ut)))return!1;t++}return!0},recognize:function(t){var e=R({},t);if(!W(this.options.enable,[this,e])){this.reset(),this.state=et;return}this.state&(nt|Mt|et)&&(this.state=Ut),this.state=this.process(e),this.state&(q|vt|at|Mt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}};function Ce(t){return t&Mt?"cancel":t&at?"end":t&vt?"move":t&q?"start":""}function Oe(t){return t==Et?"down":t==It?"up":t==yt?"left":t==Tt?"right":""}function _t(t,e){var n=e.manager;return n?n.get(t):t}function K(){st.apply(this,arguments)}C(K,st,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,s=e&(q|vt),o=this.attrTest(t);return s&&(n&V||!o)?e|Mt:s||o?n&Y?e|at:e&q?e|vt:q:et}});function Yt(){K.apply(this,arguments),this.pX=null,this.pY=null}C(Yt,K,{defaults:{event:"pan",threshold:10,pointers:1,direction:pe},getTouchAction:function(){var t=this.options.direction,e=[];return t&tt&&e.push(St),t&ct&&e.push(bt),e},directionTest:function(t){var e=this.options,n=!0,s=t.distance,o=t.direction,h=t.deltaX,A=t.deltaY;return o&e.direction||(e.direction&tt?(o=h===0?Nt:h<0?yt:Tt,n=h!=this.pX,s=Math.abs(t.deltaX)):(o=A===0?Nt:A<0?It:Et,n=A!=this.pY,s=Math.abs(t.deltaY))),t.direction=o,n&&s>e.threshold&&o&e.direction},attrTest:function(t){return K.prototype.attrTest.call(this,t)&&(this.state&q||!(this.state&q)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Oe(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}});function qt(){K.apply(this,arguments)}C(qt,K,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ht]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&q)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function Kt(){st.apply(this,arguments),this._timer=null,this._input=null}C(Kt,st,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Ne]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!s||!n||t.eventType&(Y|V)&&!o)this.reset();else if(t.eventType&j)this.reset(),this._timer=w(function(){this.state=nt,this.tryEmit()},e.time,this);else if(t.eventType&Y)return nt;return et},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===nt&&(t&&t.eventType&Y?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=m(),this.manager.emit(this.options.event,this._input)))}});function $t(){K.apply(this,arguments)}C($t,K,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ht]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&q)}});function te(){K.apply(this,arguments)}C(te,K,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:tt|ct,pointers:1},getTouchAction:function(){return Yt.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction,n;return e&(tt|ct)?n=t.overallVelocity:e&tt?n=t.overallVelocityX:e&ct&&(n=t.overallVelocityY),this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&f(n)>this.options.velocity&&t.eventType&Y},emit:function(t){var e=Oe(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}});function Lt(){st.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}C(Lt,st,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Qt]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,s=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&j&&this.count===0)return this.failTimeout();if(s&&o&&n){if(t.eventType!=Y)return this.failTimeout();var h=this.pTime?t.timeStamp-this.pTime<e.interval:!0,A=!this.pCenter||Ot(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,!A||!h?this.count=1:this.count+=1,this._input=t;var H=this.count%e.taps;if(H===0)return this.hasRequireFailures()?(this._timer=w(function(){this.state=nt,this.tryEmit()},e.interval,this),q):nt}return et},failTimeout:function(){return this._timer=w(function(){this.state=et},this.options.interval,this),et},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==nt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function ot(t,e){return e=e||{},e.recognizers=$(e.recognizers,ot.defaults.preset),new ee(t,e)}ot.VERSION="2.0.7",ot.defaults={domEvents:!1,touchAction:we,enable:!0,inputTarget:null,inputClass:null,preset:[[$t,{enable:!1}],[qt,{enable:!1},["rotate"]],[te,{direction:tt}],[Yt,{direction:tt},["swipe"]],[Lt],[Lt,{event:"doubletap",taps:2},["tap"]],[Kt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var bi=1,De=2;function ee(t,e){this.options=R({},ot.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=$e(this),this.touchAction=new Jt(this,this.options.touchAction),Re(this,!0),M(this.options.recognizers,function(n){var s=this.add(new n[0](n[1]));n[2]&&s.recognizeWith(n[2]),n[3]&&s.requireFailure(n[3])},this)}ee.prototype={set:function(t){return R(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?De:bi},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,s=this.recognizers,o=e.curRecognizer;(!o||o&&o.state&nt)&&(o=e.curRecognizer=null);for(var h=0;h<s.length;)n=s[h],e.stopped!==De&&(!o||n==o||n.canRecognizeWith(o))?n.recognize(t):n.reset(),!o&&n.state&(q|vt|at)&&(o=e.curRecognizer=n),h++}},get:function(t){if(t instanceof st)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(x(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(x(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,n=b(e,t);n!==-1&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(t!==u&&e!==u){var n=this.handlers;return M(L(t),function(s){n[s]=n[s]||[],n[s].push(e)}),this}},off:function(t,e){if(t!==u){var n=this.handlers;return M(L(t),function(s){e?n[s]&&n[s].splice(b(n[s],e),1):delete n[s]}),this}},emit:function(t,e){this.options.domEvents&&Si(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(!(!n||!n.length)){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<n.length;)n[s](e),s++}},destroy:function(){this.element&&Re(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Re(t,e){var n=t.element;if(n.style){var s;M(t.options.cssProps,function(o,h){s=g(n.style,h),e?(t.oldCssProps[s]=n.style[s],n.style[s]=o):n.style[s]=t.oldCssProps[s]||""}),e||(t.oldCssProps={})}}function Si(t,e){var n=a.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e,e.target.dispatchEvent(n)}R(ot,{INPUT_START:j,INPUT_MOVE:ut,INPUT_END:Y,INPUT_CANCEL:V,STATE_POSSIBLE:Ut,STATE_BEGAN:q,STATE_CHANGED:vt,STATE_ENDED:at,STATE_RECOGNIZED:nt,STATE_CANCELLED:Mt,STATE_FAILED:et,DIRECTION_NONE:Nt,DIRECTION_LEFT:yt,DIRECTION_RIGHT:Tt,DIRECTION_UP:It,DIRECTION_DOWN:Et,DIRECTION_HORIZONTAL:tt,DIRECTION_VERTICAL:ct,DIRECTION_ALL:pe,Manager:ee,Input:J,TouchAction:Jt,TouchInput:Rt,MouseInput:Dt,PointerEventInput:Bt,TouchMouseInput:Ft,SingleTouchInput:Ee,Recognizer:st,AttrRecognizer:K,Tap:Lt,Pan:Yt,Swipe:te,Pinch:qt,Rotate:$t,Press:Kt,on:Q,off:y,each:M,merge:P,extend:N,assign:R,inherit:C,bindFn:T,prefixed:g});var Mi=typeof r<"u"?r:typeof self<"u"?self:{};Mi.Hammer=ot,i.exports?i.exports=ot:r[c]=ot})(window,document,"Hammer")}(ne)),ne.exports}var kn=Ln();const ke=Yn(kn),Gn=Xt?window:void 0;function Wn(i){var r;const a=S(i);return(r=a==null?void 0:a.$el)!=null?r:a}function Hn(...i){const r=[],a=()=>{r.forEach(l=>l()),r.length=0},c=(l,d,f,m)=>(l.addEventListener(d,f,m),()=>l.removeEventListener(d,f,m)),u=rt(()=>{const l=mt(S(i[0])).filter(d=>d!=null);return l.every(d=>typeof d!="string")?l:void 0}),v=Ge(()=>{var l,d;return[(d=(l=u.value)==null?void 0:l.map(f=>Wn(f)))!=null?d:[Gn].filter(f=>f!=null),mt(S(u.value?i[1]:i[0])),mt(I(u.value?i[2]:i[1])),S(u.value?i[3]:i[2])]},([l,d,f,m])=>{if(a(),!(l!=null&&l.length)||!(d!=null&&d.length)||!(f!=null&&f.length))return;const w=We(m)?{...m}:m;r.push(...l.flatMap(x=>d.flatMap(M=>f.map(G=>c(x,M,G,w)))))},{flush:"post"}),p=()=>{v(),a()};return ce(a),p}const Xn=zt({name:"UseDraggable",props:["storageKey","storageType","initialValue","exact","preventDefault","stopPropagation","pointerTypes","as","handle","axis","onStart","onMove","onEnd","disabled","buttons","containerElement"],setup(i,{slots:r}){const a=Ht(),c=rt(()=>{var m;return(m=S(i.handle))!=null?m:a.value}),u=rt(()=>{var m;return(m=i.containerElement)!=null?m:void 0}),v=rt(()=>!!i.disabled),p=i.storageKey&&ji(i.storageKey,S(i.initialValue)||{x:0,y:0},Xt?i.storageType==="session"?sessionStorage:localStorage:void 0),l=p||i.initialValue||{x:0,y:0},f=Ri(Zi(a,{...i,handle:c,initialValue:l,onEnd:(m,w)=>{var x;(x=i.onEnd)==null||x.call(i,m,w),p&&(p.value.x=m.x,p.value.y=m.y)},disabled:v,containerElement:u}));return()=>{if(r.default)return Pi(i.as||"div",{ref:a,style:`touch-action:none;${f.style}`},r.default(f))}}});function se(i){return typeof Window<"u"&&i instanceof Window?i.document.documentElement:typeof Document<"u"&&i instanceof Document?i.documentElement:i}function Ve(i){const r=window.getComputedStyle(i);if(r.overflowX==="scroll"||r.overflowY==="scroll"||r.overflowX==="auto"&&i.clientWidth<i.scrollWidth||r.overflowY==="auto"&&i.clientHeight<i.scrollHeight)return!0;{const a=i.parentNode;return!a||a.tagName==="BODY"?!1:Ve(a)}}function zn(i){const r=i||window.event,a=r.target;return Ve(a)?!1:r.touches.length>1?!0:(r.preventDefault&&r.preventDefault(),!1)}const re=new WeakMap;function jn(i,r=!1){const a=Ht(r);let c=null,u="";ue(Ui(i),l=>{const d=se(S(l));if(d){const f=d;if(re.get(f)||re.set(f,f.style.overflow),f.style.overflow!=="hidden"&&(u=f.style.overflow),f.style.overflow==="hidden")return a.value=!0;if(a.value)return f.style.overflow="hidden"}},{immediate:!0});const v=()=>{const l=se(S(i));!l||a.value||(Ue&&(c=Hn(l,"touchmove",d=>{zn(d)},{passive:!1})),l.style.overflow="hidden",a.value=!0)},p=()=>{const l=se(S(i));!l||!a.value||(Ue&&(c==null||c()),l.style.overflow=u,re.delete(l),a.value=!1)};return ce(p),rt({get(){return a.value},set(l){l?v():p()}})}function Zn(){let i=!1;const r=Ht(!1);return(a,c)=>{if(r.value=c.value,i)return;i=!0;const u=jn(a,c.value);ue(r,v=>u.value=v)}}Zn();const Vn=["src"],Bn=["src"],Fn={__name:"_Action",props:{type:{type:String,default:"click"},icon:{type:Object,default:()=>{}},message:{type:String,default:"請進行互動"}},emits:["completed","start"],setup(i,{emit:r}){const a=i,c=r,u=F(null);function v(){c("completed")}let p=null;function l(d){c("completed")}return jt(()=>{u.value&&(a.type==="click"||a.type==="doubleClick"?u.value.addEventListener("dblclick",l):a.type.includes("swipe")?(p=new ke(u.value),p.get("swipe").set({direction:ke.DIRECTION_ALL}),p.on(a.type,l)):a.type)}),Ze(()=>{u.value&&(a.type==="click"?u.value.removeEventListener("click",l):a.type==="doubleClick"&&u.value.removeEventListener("dblclick",l),p&&(p.off("swipe",l),p.destroy(),p=null))}),(d,f)=>(D(),k("div",{class:pt(["gesture-overlay",`type-${i.type}`]),ref_key:"overlay",ref:u},[i.type==="drag"?(D(),gt(I(Xn),{key:0,class:"absolute select-none cursor-move z-31 w-[100px] h-[100px]","initial-value":{...i.icon.pos},"prevent-default":"",onEnd:v},{default:ae(({x:m,y:w})=>[E("video",{loop:"",playinline:"",autoplay:"",src:i.icon.url},null,8,Vn)]),_:1},8,["initial-value"])):(D(),k("video",{key:1,loop:"",playinline:"",autoplay:"",src:i.icon.url,style:lt(`left:${i.icon.pos.x}px;top:${i.icon.pos.y}px;transform: rotate(${i.icon.deg}deg);`),class:"absolute select-none origin-center"},null,12,Bn))],2))}},Qn=je(Fn,[["__scopeId","data-v-5b86769a"]]),Jn={class:"w-full h-full"},qn={class:""},Kn=["muted"],$n=["src"],ts=["src"],es={key:1,loop:"",playinline:"",autoplay:"",src:Vi,class:"w-[120px] absolute right-[186px] top-[30%] select-none origin-center"},ns={__name:"Main",setup(i){const r=_i();ft("state");const c=ft("chapters").find(L=>L.id==r.params.id),u=fn();ie("menu",u);const{active:v}=u,p=vn({domId:"#ex3"});ie("sketchit",p);const{active:l}=p,d=pn(c.pauses),{audioPlayer:f,videoPlayer:m,onTimeUpdate:w,onEnd:x,currentPause:M,showActionComponent:G,onActionCompleted:R,play:N,pause:P,replay:C,video:T,audio:W,seek:$}=d;ie("intro",d);const Q=()=>{N()},y=()=>{P()};F(null);let U=null;const O=F(!1);return jt(()=>{c.onStart&&c.onStart(T,W),c.onDblclick&&(O.value=!0,U=L=>{c.onDblclick(T,W),O.value=!1},document.addEventListener("dblclick",U))}),Ze(()=>{U&&(document.removeEventListener("dblclick",U),U=null)}),(L,b)=>(D(),k("div",Jn,[E("div",{class:pt(["absolute right-[100px] top-[95px] w-[300px] z-50 flex flex-col items-center",I(l)?"pointer-events-none":""])},[E("div",{class:"cursor-pointer",onClick:b[0]||(b[0]=_=>L.$router.push({name:"welcome"}))},b[4]||(b[4]=[E("img",{class:"w-[154px]",src:Yi,alt:""},null,-1)])),E("div",{class:"mt-[43px] py-[5px] px-3 border-y-2 border-[#c79f62] text-white text-[1.24rem] font-bold text-center",onClick:b[1]||(b[1]=(..._)=>I(C)&&I(C)(..._))},Li(I(c).title),1)],2),E("div",qn,[E("video",{ref_key:"videoPlayer",ref:m,autoplay:"",disablePictureInPicture:"",onTimeupdate:b[2]||(b[2]=(..._)=>I(w)&&I(w)(..._)),onEnded:b[3]||(b[3]=(..._)=>I(x)&&I(x)(..._)),muted:I(c).muted,controlslist:"nodownload"},[E("source",{id:"source",src:I(c).video,type:"video/mp4"},null,8,$n)],40,Kn),I(c).audio?(D(),k("audio",{key:0,ref_key:"audioPlayer",ref:f,loop:"",autoplay:"",src:I(c).audio},null,8,ts)):dt("",!0)]),I(G)&&I(M)&&!I(l)?(D(),gt(Qn,{key:0,type:I(M).type,icon:I(M).icon,onCompleted:I(R)},null,8,["type","icon","onCompleted"])):dt("",!0),O.value?(D(),k("video",es)):dt("",!0),ze(dn,{class:"absolute bottom-0 left-0 w-full z-50",onClose:Q,onOpen:y}),I(v)?dt("",!0):(D(),gt(_n,{key:2}))]))}};export{ns as default};
