import{d as jt,r as ai,c as b,o as A,a as d,b as ft,e as it,f as Ie,n as $,w as me,g as st,i as K,h as ye,j as ge,F as zt,k as Zt,u as g,l as oi,m as Ee,p as q,q as li,_ as be,s as hi,t as ci,v as Me,x as ui,y as di,z as Wt}from"./index-DxM_poIu.js";const pi="/vue-ccity/assets/menu-bg-B0-YP3Ea.svg",Ae="/vue-ccity/assets/icon-arrowup-D5BGWPi8.svg",fi=jt({emits:["goPrev","goNext"],props:{width:{type:Number,default:50},height:{type:Number,default:60},prevHtml:{type:String,default:"&lsaquo;"},nextHtml:{type:String,default:"&rsaquo;"},isPrevPossible:{type:Boolean,required:!0},isNextPossible:{type:Boolean,required:!0}}}),Ft=(s,r)=>{const l=s.__vccOpts||s;for(const[u,h]of r)l[u]=h;return l},vi={class:"carousel-3d-controls"},mi=["innerHTML"],gi=["innerHTML"];function Ai(s,r,l,u,h,v){return A(),b("div",vi,[d("a",{href:"#",class:st(["prev",{disabled:!s.isPrevPossible}]),onClick:r[0]||(r[0]=me(m=>s.$emit("goPrev"),["prevent"])),style:$(`width: ${s.width}px; height: ${s.height}px; line-height: ${s.height}px;`),"aria-label":"Previous slide"},[d("span",{innerHTML:s.prevHtml},null,8,mi)],6),d("a",{href:"#",class:st(["next",{disabled:!s.isNextPossible}]),onClick:r[1]||(r[1]=me(m=>s.$emit("goNext"),["prevent"])),style:$(`width: ${s.width}px; height: ${s.height}px; line-height: ${s.height}px;`),"aria-label":"Next slide"},[d("span",{innerHTML:s.nextHtml},null,8,gi)],6)])}const Ti=Ft(fi,[["render",Ai],["__scopeId","data-v-717c3828"]]),Ii=jt({components:{Controls:Ti},props:{count:{type:Number,default:0},perspective:{type:Number,default:35},display:{type:Number,default:5},loop:{type:Boolean,default:!0},animationSpeed:{type:Number,default:500},dir:{type:String,default:"rtl"},width:{type:Number,default:360},height:{type:Number,default:270},border:{type:Number,default:1},space:{type:[Number,String],default:"auto"},startIndex:{type:Number,default:0},clickable:{type:Boolean,default:!0},disable3d:{type:Boolean,default:!1},minSwipeDistance:{type:Number,default:10},inverseScaling:{type:Number,default:300},controlsVisible:{type:Boolean,default:!1},controlsPrevHtml:{type:String,default:"&lsaquo;"},controlsNextHtml:{type:String,default:"&rsaquo;"},controlsWidth:{type:Number,default:50},controlsHeight:{type:Number,default:50},bias:{type:String,default:"left"},onMainSlideClick:{type:Function},oneDirectional:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},autoplayTimeout:{type:Number,default:2e3},autoplayHoverPause:{type:Boolean,default:!0}},data(){return{viewport:0,currentIndex:0,total:0,dragOffsetX:0,dragStartX:0,dragOffsetY:0,dragStartY:0,mousedown:!1,zIndex:998,mutationObserver:new MutationObserver(()=>{}),autoplayInterval:0}},unmounted(){this.pauseAutoplay(),this.$el.removeEventListener("mouseenter",this.pauseAutoplay),this.$el.removeEventListener("mouseleave",this.startAutoplay)},watch:{count(){this.computeData()}},computed:{isLastSlide(){return this.currentIndex===this.total-1},isFirstSlide(){return this.currentIndex===0},isNextPossible(){return!(!this.loop&&this.isLastSlide)},isPrevPossible(){return!(!this.loop&&this.isFirstSlide)},slideWidth(){const s=this.viewport,r=this.width+this.border*2;return s<r&&typeof window>"u"?s:r},slideHeight(){const s=this.width+this.border*2,r=this.height+this.border*2,l=this.calculateAspectRatio(s,r);return this.slideWidth/l},visible(){return this.display>this.total?this.total:this.display},hasHiddenSlides(){return this.total>this.visible},leftIndices(){let s=(this.visible-1)/2;s=this.bias.toLowerCase()==="left"?Math.ceil(s):Math.floor(s);const r=[];for(let l=1;l<=s;l++)r.push(this.dir==="ltr"?(this.currentIndex+l)%this.total:(this.currentIndex-l)%this.total);return r},rightIndices(){let s=(this.visible-1)/2;s=this.bias.toLowerCase()==="right"?Math.ceil(s):Math.floor(s);const r=[];for(let l=1;l<=s;l++)r.push(this.dir==="ltr"?(this.currentIndex-l)%this.total:(this.currentIndex+l)%this.total);return r},leftOutIndex(){let s=(this.visible-1)/2;return s=this.bias.toLowerCase()==="left"?Math.ceil(s):Math.floor(s),s++,this.dir==="ltr"?this.total-this.currentIndex-s<=0?-(this.total-this.currentIndex-s):this.currentIndex+s:this.currentIndex-s},rightOutIndex(){let s=(this.visible-1)/2;return s=this.bias.toLowerCase()==="right"?Math.ceil(s):Math.floor(s),s++,this.dir==="ltr"?this.currentIndex-s:this.total-this.currentIndex-s<=0?-(this.total-this.currentIndex-s):this.currentIndex+s}},methods:{goNext(){this.isNextPossible&&(this.isLastSlide?this.goSlide(0):this.goSlide(this.currentIndex+1))},goPrev(){this.isPrevPossible&&(this.isFirstSlide?this.goSlide(this.total-1):this.goSlide(this.currentIndex-1))},goSlide(s){this.currentIndex=s<0||s>this.total-1?0:s,this.isLastSlide&&this.$emit("last-slide",this.currentIndex),this.$emit("before-slide-change",this.currentIndex),setTimeout(()=>this.animationEnd(),this.animationSpeed)},goFar(s){let r=s===this.total-1&&this.isFirstSlide?-1:s-this.currentIndex;this.isLastSlide&&s===0&&(r=1);const l=r<0?-r:r;let u=0,h=0;for(;h<l;)h+=1,setTimeout(()=>r<0?this.goPrev():this.goNext(),l===1?0:u),u+=this.animationSpeed/l},animationEnd(){this.$emit("after-slide-change",this.currentIndex)},handleMouseup(){this.mousedown=!1,this.dragOffsetX=0,this.dragOffsetY=0},handleMousedown(s){s.touches?s=s.touches[0]:s.preventDefault(),this.mousedown=!0,this.dragStartX=s.clientX,this.dragStartY=s.clientY},handleMousemove(s){if(!this.mousedown)return;s.touches&&(s=s.touches[0]);const r=s.clientX,l=s.clientY,u=this.dragStartX-r,h=this.dragStartY-l;this.dragOffsetX=u,this.dragOffsetY=h,!(Math.abs(this.dragOffsetY)>Math.abs(this.dragOffsetX))&&(this.dragOffsetX>this.minSwipeDistance?(this.handleMouseup(),this.goNext()):this.dragOffsetX<-this.minSwipeDistance&&(this.handleMouseup(),this.goPrev()))},attachMutationObserver(){const s=window.MutationObserver;if(s){const r={attributes:!0,childList:!0,characterData:!0};this.mutationObserver=new s(()=>{this.$nextTick(()=>{this.computeData()})}),this.$el&&this.mutationObserver.observe(this.$el,r)}},detachMutationObserver(){this.mutationObserver&&this.mutationObserver.disconnect()},getSlideCount(){let s=0;const r=this.$refs.slider;return r&&r.children&&(s=r.children.length),s},calculateAspectRatio(s,r){return Math.min(s/r)},computeData(s){this.total=this.getSlideCount(),(s||this.currentIndex>=this.total)&&(this.currentIndex=this.startIndex>this.total-1?this.total-1:this.startIndex),this.viewport=this.$el.clientWidth},setSize(){this.$el.style.cssText+="height:"+this.slideHeight+"px;",this.$el.childNodes[0].style.cssText+="width:"+this.slideWidth+"px; height:"+this.slideHeight+"px;"},pauseAutoplay(){this.autoplayInterval&&clearInterval(this.autoplayInterval)},startAutoplay(){this.autoplay&&(this.autoplayInterval=setInterval(()=>{this.dir==="ltr"?this.goPrev():this.goNext()},this.autoplayTimeout))}},mounted(){this.computeData(!0),this.attachMutationObserver(),window.addEventListener("resize",this.setSize),this.autoplayHoverPause&&(this.$el.addEventListener("mouseenter",this.pauseAutoplay),this.$el.addEventListener("mouseleave",this.startAutoplay),this.startAutoplay())},beforeUnmount(){this.detachMutationObserver(),window.removeEventListener("resize",this.setSize)}});function yi(s,r,l,u,h,v){const m=ai("Controls");return A(),b("div",{class:"carousel-3d-container",style:$({height:s.slideHeight+"px"}),onTouchstart:r[0]||(r[0]=(...p)=>s.handleMousedown&&s.handleMousedown(...p)),onTouchend:r[1]||(r[1]=(...p)=>s.handleMouseup&&s.handleMouseup(...p)),onTouchmove:r[2]||(r[2]=(...p)=>s.handleMousemove&&s.handleMousemove(...p)),onMousedown:r[3]||(r[3]=(...p)=>s.handleMousedown&&s.handleMousedown(...p)),onMouseup:r[4]||(r[4]=(...p)=>s.handleMouseup&&s.handleMouseup(...p)),onMousemove:r[5]||(r[5]=(...p)=>s.handleMousemove&&s.handleMousemove(...p))},[d("div",{ref:"slider",class:"carousel-3d-slider",style:$({width:s.slideWidth+"px",height:s.slideHeight+"px"})},[Ie(s.$slots,"default",{},void 0)],4),s.controlsVisible?(A(),ft(m,{key:0,"next-html":s.controlsNextHtml,"prev-html":s.controlsPrevHtml,width:s.controlsWidth,height:s.controlsHeight,"is-prev-possible":s.isPrevPossible,"is-next-possible":s.isNextPossible,onGoPrev:s.goPrev,onGoNext:s.goNext},null,8,["next-html","prev-html","width","height","is-prev-possible","is-next-possible","onGoPrev","onGoNext"])):it("",!0)],36)}const Ei=Ft(Ii,[["render",yi],["__scopeId","data-v-7af7631c"]]),bi=jt({props:{index:{type:Number}},data(){return{parent:this.$parent,styles:void 0,zIndex:999}},computed:{isCurrent(){return this.index===this.parent.currentIndex},leftIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.leftIndices)>this.parent.currentIndex-1?-1:this.getSideIndex(this.parent.leftIndices)},rightIndex(){return this.parent.oneDirectional&&this.getSideIndex(this.parent.rightIndices)>this.parent.total-this.parent.currentIndex-2?-1:this.getSideIndex(this.parent.rightIndices)},slideStyle(){let s=this.baseStyle();if(!this.isCurrent){const r=this.leftIndex,l=this.rightIndex;(l>=0||r>=0)&&(s=l>=0?this.calculatePosition(l,!0,this.zIndex):this.calculatePosition(r,!1,this.zIndex),s=Object.assign(s,{opacity:1,visibility:"visible"})),this.parent.hasHiddenSlides&&(this.matchIndex(this.parent.leftOutIndex)?s=this.calculatePosition(this.parent.leftIndices.length-1,!1,this.zIndex):this.matchIndex(this.parent.rightOutIndex)&&(s=this.calculatePosition(this.parent.rightIndices.length-1,!0,this.zIndex)))}return s},computedClasses(){return{[`left-${this.leftIndex+1}`]:this.leftIndex>=0,[`right-${this.rightIndex+1}`]:this.rightIndex>=0,current:this.isCurrent}}},methods:{getSideIndex(s){let r=-1;return s.forEach((l,u)=>{this.matchIndex(l)&&(r=u)}),r},matchIndex(s){return s>=0?this.index===s:this.parent.total+s===this.index},baseStyle(){return{"border-width":this.parent.border+"px",width:this.parent.slideWidth+"px",height:this.parent.slideHeight+"px",transition:" transform "+this.parent.animationSpeed+"ms,                opacity "+this.parent.animationSpeed+"ms,                visibility "+this.parent.animationSpeed+"ms"}},calculatePosition(s,r,l){const u=this.baseStyle(),h=this.parent.disable3d?0:parseInt(this.parent.inverseScaling)+(s+1)*100,v=this.parent.disable3d?0:parseInt(this.parent.perspective),m=this.parent.space==="auto"?(s+1)*(this.parent.width/1.5):(s+1)*this.parent.space,p=r?"translateX("+m+"px) translateZ(-"+h+"px) rotateY(-"+v+"deg)":"translateX(-"+m+"px) translateZ(-"+h+"px) rotateY("+v+"deg)",f=this.parent.space==="auto"?0:(s+1)*this.parent.space;return Object.assign(u,{transform:p,top:f,zIndex:l-(Math.abs(s)+1)})},goTo(){if(!this.isCurrent)this.parent.clickable===!0&&this.parent.goFar(this.index);else{const{index:s}=this;this.parent.onMainSlideClick({index:s})}}}});function Mi(s,r,l,u,h,v){return A(),b("div",{class:st(["carousel-3d-slide",s.computedClasses]),style:$(s.slideStyle),onClick:r[0]||(r[0]=m=>s.goTo())},[Ie(s.$slots,"default",{index:s.index,isCurrent:s.isCurrent,leftIndex:s.leftIndex,rightIndex:s.rightIndex},void 0)],6)}const Si=Ft(bi,[["render",Mi],["__scopeId","data-v-f75c401f"]]),xi=["src"],Ni={__name:"SliderMenu",emits:["update"],setup(s,{emit:r}){const l=K("chapters"),u=r,h=v=>{var m;u("update",(m=l[v.index])==null?void 0:m.id)};return ye(()=>{}),(v,m)=>(A(),ft(g(Ei),{perspective:0,space:350,display:9,onMainSlideClick:h},{default:ge(()=>[(A(!0),b(zt,null,Zt(g(l),(p,f)=>(A(),ft(g(Si),{index:f},{default:ge(()=>[d("div",null,[d("img",{src:p.thumbnail,alt:""},null,8,xi)])]),_:2},1032,["index"]))),256))]),_:1}))}},Ci={key:0},Oi={key:1},wi={class:"w-full"},Ri={__name:"Index",emits:["open","close"],setup(s,{emit:r}){const{toggle:l,active:u}=K("menu"),h=r,v=oi(),m=()=>{l(),h(u.value?"open":"close")},p=f=>{console.log(f),m(),v.push({name:"main",params:{id:f}})};return(f,T)=>(A(),b("div",{class:st(["w-full flex flex-col transition-all h-[380px]",g(u)?"translate-y-0":"translate-y-[100%]"])},[T[2]||(T[2]=d("img",{class:"absolute bottom-0 left-0 w-full",src:pi,alt:""},null,-1)),d("div",{class:st(["cursor-pointer absolute left-[50%] ml-[-19px] top-[70px] flex flex-col items-center z-10",g(u)?"mt-[0px]":"-mt-[140px]"]),onClick:m},[g(u)?(A(),b("span",Oi,T[1]||(T[1]=[d("img",{class:"scale-[-1]",src:Ae,alt:""},null,-1)]))):(A(),b("span",Ci,T[0]||(T[0]=[d("img",{src:Ae,alt:""},null,-1)])))],2),d("div",wi,[Ee(Ni,{onUpdate:p})])],2))}},Pi=()=>{const s=q(!1);return{toggle:()=>{s.value=!s.value},active:s}},Di=s=>{s||console.log("沒有資料");const r=q(null),l=q(null),u=q(!1),h=q(0);function v(){if(r.value&&(h.value=r.value.currentTime,r.value&&s)){const G=s.find(W=>Math.abs(r.value.currentTime-W.time)<.1);G&&!l.value&&(T(),l.value=G,u.value=!0)}}function m(){u.value=!1,l.value=null,r.value&&p()}const p=()=>{l.value||r.value.play()},f=()=>{r.value.currentTime=0,r.value.play()},T=()=>{r.value.pause()};return{videoPlayer:r,onTimeUpdate:v,onActionCompleted:m,currentPause:l,showActionComponent:u,play:p,pause:T,replay:f}},Ui=({domId:s})=>{const r=q(!1),l=()=>{li(()=>{window.$(s).sketchIt({tools:!0,color:"#d50011"})})};return{toggle:()=>{r.value=!r.value,r.value?l():window.$(s).off()},active:r,trigger:l}},_i="/vue-ccity/assets/toolbar-B4Y9HIHE.png",Yi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAwCAYAAADkStGdAAAACXBIWXMAAAsSAAALEgHS3X78AAAByklEQVRYhe2Y0W2DMBCG/0Z5hw2K8ADNBmk3yAbNCB2hGzQbtN0gmaDJBuQd03QDMoErR3eVa7CxLVL1gV9CCDD++O98xgClVNRW11LF3jPDH2iCTJB/ApGyKQC8S9nkV4FI2awBfAJ4BHCi4/Eg1OErgB2ABw3Rx1I29yH33+iyHwDk1GkLYCFE2ZrnhCiLMZw8Acj0XgP0CdpvANyGhC0U8iVEubXOa8iZrqdDpGxW5OLZvkZu3gDcSdkskiEAVrS3XbA2VrtkyI5zYUuIUif/mAyhEGQeF6wthcxZoD4nQ6GCdd3pxgfRhXZ0hYolRFnRKHMWpg+yBLD3AQztoyHGdBEKqagwe6vf5YQhVSCEH6a3XlwQ3fhMQ3RQQpTJkFAXrKMrLx0IjffbiHywTjFOuGGsE90+6yvKMSHOvPRBLsMwNOmGuH0nLy4nh0iA+VDB4fJOJR4dQsOVJeSD1Q5CjOkkFVLRQ/7S3DrmeBahy52++/W7iGbni1yQlwSAU511F70Ro5ahllrTBUIWd2NoTrHvLHlG1HpGFbq8Quc59Vv8JF6IMmU0OUUR+sD0zThBrg7hZebY4ndSy7+X8tjfSyFbXctCKYVvQ1EsA2fiTuEAAAAASUVORK5CYII=",Gi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAAACXBIWXMAAAsSAAALEgHS3X78AAABPklEQVRIibXXzXGDMBAF4Oc0EDoIHUQlpASXYHeSElwC7iAluARK8DG50cHzaGZ3RpFBP8taM3vAIH1eJAF7IAmnNgIIEjcAM4Blc+gI74yB5IXPbSF52hrbA52FvJP8JvlFckr+xiruhU6V80/4q9Aq/kp07fqjFe5FNcZkHXTDVlTjJn1DPH5r3MKD7M1PAFcAJ8PW/0nGasp4b6Z5xmPLrfZCu+bYC+1e1d5o0z4OcvEinV3RWsb6vJ0NeBHN4bU5teBVNIXzt4wVb0IVLmXagzejCl8yJJ/jFrwLVXiRp0ppgZXwblThSfBgwEcLqnAQ2ILTgqareg/ejTLbxxbcHHnHGj7IOXrDJdy0erdiq5LQagBSEUAqhQ8AZwCT4QvkXyuVMBGPnyvvyW9/AH73ojGZWu0Us4zh24D7A5KxEQefrk9eAAAAAElFTkSuQmCC",Li="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsSAAALEgHS3X78AAABOklEQVRIibWV0VGDQBRFj44ffsYO0oGxAu3AdKDpIPIKUAtYJh0YOyAdxAqMHVhC8uUnznMWZgO7CMvmzjDADNzDW97dd1aWJSEZk8+AFbAUyXbBBzt08Y/51t7uY8xV5z3M70Sy72QAj3nU0ngBqc2PAKcwrwGnMlf9takx+Q9wCWyAGHN9ZyuStbqtAoTD0F8Hm5mVC6oAj8Ab8GWXaFDfG5PPNYzAbdOjTvJYSMij7iKRbA0sgGtdT2PyyVBAw+PlqIKur4iopADugatWklNUAqztee7di8ZCRLLCXk69AA9kNgTgaBIEOJCbyPCp9p0DJ1Z26/kEnjorGKGlPRfJAfbrH4B3HVRJAc6ufKiCFpzJA42ngAb02ZrXY7Y3wCZcj6Y0I9rKqg99xp3hKSrQreRVf2hrUAG/REWf6EvYr+sAAAAASUVORK5CYII=",ki="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAZCAYAAAArK+5dAAAACXBIWXMAAAsSAAALEgHS3X78AAABOUlEQVRIibWWwVHDMBAAFw8/eOTHEz/5kQ6gA+ggoQR0BZACkIYS4JF/6CDpIOkAOggVmBFzzijgSFZk7uWx5N053enGJ03T8J9RlbCtdY217jW2p0gAvAGTmKRIIGKmKUlpBklJsSAlGUQQkwwmOCTpvAfWujHgN4+PdF0BF8Dz6S/wCPDmO321AbaZcM880+f1TqDwJXCtac5EzEcOOWCcAw8iZh5m0ML9QvR2JuB7jEoXp7rwOCScoItmwKeIeRkS/iOw1tXApRZ3UHibQa3Py1xBn7qVXrRtqinCLhrl0kXMbWpPJWLao7nPFfSJ9ojedX7UZbi/EbYpx3RSKnbDzlrnJU/Ayh+XiMmdQZ2xN00DyZdmswhqVC5Qie8ML7qJfLcRMb1G+cH/Ii24l3UVfi1iFkk68A1ogY7nqKhX+QAAAABJRU5ErkJggg==",Hi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAzCAYAAADmWEQdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAE7mlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuMTQ2Mjg5OSwgMjAyMy8wNi8yNS0yMDowMTo1NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NDkrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NDkrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1ZDZjMmZjLTI4NjctNjk0Zi05YTRiLTg3ZWU1OGU1MjYxZSIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo0NWQ2YzJmYy0yODY3LTY5NGYtOWE0Yi04N2VlNThlNTI2MWUiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0NWQ2YzJmYy0yODY3LTY5NGYtOWE0Yi04N2VlNThlNTI2MWUiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjQ1ZDZjMmZjLTI4NjctNjk0Zi05YTRiLTg3ZWU1OGU1MjYxZSIgc3RFdnQ6d2hlbj0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIi8+IDwvcmRmOlNlcT4gPC94bXBNTTpIaXN0b3J5PiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pvb7SekAAALySURBVHic7ZoxaOJQGMdfjwZ6Dq8ON7g43A2XQBYD7eLi0ClLJge7iYIFlwTHbl0cxYfg4CCCSwenLJkcXDJch2SoEG+4o0hKODjw3lAEl5vClXJnk9Iv7115vzEavj8/JP/3BQ/CMDxHgtfkxyFCSEh9XW7fsU7wFhFSARBSARBSARBSARBSARBSARBSARBSARBSARBSARBSAfgvpFJKJdYZ0sC9VEqp1O12y6PRSGWdJSncSx2PxypCCHmeV3Qcp8g6TxIOWQfYx3Q6le/u7j5cXV0t7u/v3xNCygghpOv6mnW2fXD7S3Ucp+i67seLi4svGOOdoii0Vqv5tm2rQRBg1vn2waXUIAiwbdtqs9m8URSFxtcrlUpkGMaSEFLmWSx3UimlEiGkbBjG8uTk5OfTz3VdX5+dnX0lhJR5PRVwJTVuelmWo33PzWq1+k2W5ajb7XIpliup4/FYPTo62lmW5T/3Xcuy/EKh8ItHsdxInU6nchRFx51O5ybpPY1GY4nQn2MXL3AhNW76er3uYYx3Se/DGO8uLy/dKIqO+/1+CTBiKphLDYIAz2az0tOmT0osdrVaFWaz2SeIjGlhKjUMwxwhpFytVv2/NX1SMMY70zTd+Xz+mYeti5lUSqk0GAxOn2v6pCiKQk3TdG3bVheLReE1Mr4UZlKHw2EpadMnRVEUahjG8vr6usRyOWAidTQaqZvNJpem6ZOi6/qa9daVuVTHcYqe5xXTNn0adF1fa5q2nkwmGoszbKZS46Y3TdN9SdOnodVqLVktB5lJfdz00EJjLMvy8/n8Q6/XO81iXkwmUuOm1zRtnfW70Ha77W+3WynL5SATqcPhsJTP5x9ardYyi3mPYbF1gUt1HKe42Wxy7Xbbh571LzDGu3q97q1Wq0IYhjnoeQdhGNrQQyilElTTc5gjm7+n8yAUoexyMH+h8hYRUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgEQUgE4RAjdsg7xxvj+G1kHQEHrt1ebAAAAAElFTkSuQmCC",Wi="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFUAAAAzCAYAAADmWEQdAAAACXBIWXMAAAsTAAALEwEAmpwYAAAFu2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgOS4xLWMwMDEgNzkuMTQ2Mjg5OSwgMjAyMy8wNi8yNS0yMDowMTo1NSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIiB4bXA6Q3JlYXRlRGF0ZT0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgeG1wOk1vZGlmeURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NTYrMDg6MDAiIHhtcDpNZXRhZGF0YURhdGU9IjIwMjQtMDUtMDlUMTU6MTM6NTYrMDg6MDAiIGRjOmZvcm1hdD0iaW1hZ2UvcG5nIiBwaG90b3Nob3A6Q29sb3JNb2RlPSIzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjExODlmMThjLTE4MmUtZTI0NC1iYjNiLWZiZTkzODNiMzAxMiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo3OGNkNGYyMC00YzE3LWZkNGMtYWMzYS00NDU1NmI1MTc0MGMiIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo3OGNkNGYyMC00YzE3LWZkNGMtYWMzYS00NDU1NmI1MTc0MGMiPiA8eG1wTU06SGlzdG9yeT4gPHJkZjpTZXE+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJjcmVhdGVkIiBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjc4Y2Q0ZjIwLTRjMTctZmQ0Yy1hYzNhLTQ0NTU2YjUxNzQwYyIgc3RFdnQ6d2hlbj0iMjAyNC0wMy0xOFQxMTowMjozNCswODowMCIgc3RFdnQ6c29mdHdhcmVBZ2VudD0iQWRvYmUgUGhvdG9zaG9wIDI1LjAgKFdpbmRvd3MpIi8+IDxyZGY6bGkgc3RFdnQ6YWN0aW9uPSJzYXZlZCIgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDoxMTg5ZjE4Yy0xODJlLWUyNDQtYmIzYi1mYmU5MzgzYjMwMTIiIHN0RXZ0OndoZW49IjIwMjQtMDUtMDlUMTU6MTM6NTYrMDg6MDAiIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkFkb2JlIFBob3Rvc2hvcCAyNS4wIChXaW5kb3dzKSIgc3RFdnQ6Y2hhbmdlZD0iLyIvPiA8L3JkZjpTZXE+IDwveG1wTU06SGlzdG9yeT4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7+4gaWAAADF0lEQVR4nO2asWviUBzHfz0qlIO+Cu3wDilyHc5AlzjYIUuHTlkyOfQGly5CQdLZPyB0KpFCwYJQ6OKQKYtThywZWgeHSpMbTkQC4egNfYMILjdIOK6kVnr+8tLyPpMI5vvjg/p9P81KEATfQbBMfq0CgJC6XO4/8Z7gIyKkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIiCkIoAu1XEcenl5uYudswimacpBEHzGzkGXWiwWfz88PHy5vr4uYGfNwzRNOQzDjfX19Sl2FrpUQsi0Wq3euq77tdPpbGPnxdHpdLZ936e1Wu2OEPL+pQIASJLEdF13bdvedRyHJpEZ0e12N23b3tV13c3lcuMkMhMrKkmSmKZp/Xa7LXueR5LI9DyPtFqtkqZpfUmSWBKZAAm3v6qqI03T+o1GQ8EWyxjLXF1dFRVFGaiqOsLMek7iRypVVUeKogyazeYeYyyDlXN2dlailD5VKhUfK+MluJxTK5WKn8/nHw3DUDDEmqYpTyaTzNHRUX/Z114Ebof/k5OTXjabHRuGoSzzupZl7fi+T+v1uptE08fBdaM6Pj7uAczeWcu4nuM49Obm5puu69yEAnCWSgiZ1ut1NwzDjf8V63keabfbctJNHwf33Z8QMq3Vane+79O3LgeMsUyz2dzj0fRxcJcKAJDL5cbRcvAWsYZhKPl8/pFH08eRCqkAf7cuy7Lkbre7uejroq8NXk0fR2qkAszElsvlXqvVKi2yHFiWtTMcDrd4Nn0cqZIK8O/WNe9nuqjpq9XqbZqEAqRQKsBMbKFQCM/Pz0txy0HU9IeHhz3eTR9HKqUCzJYDSunT860ravqDg4Mf+/v7Ic8ZXyK1UgFmYtfW1qYXFxdy9FzU9OVy+SfH0eayEgSBzXuIeTDGMoZhKJTSJwCAMAw3Tk9PHd5zzSH9N/1GW9dwONyKmp73TK+xynuARYj+koke857nNd6FVIDZGZb3DIuS+o//e0RIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRUBIRWAVAO55D/HBGPwBet40P8d2yn8AAAAASUVORK5CYII=",Xi={class:""},zi={class:"fixed right-0 top-0 z-50 h-full"},Zi={class:"h-[1010px]"},ji={key:0,src:_i,alt:""},Fi={key:0,class:"absolute w-full h-full top-[165px] left-0"},Bi={class:"h-[200px] w-full flex flex-col items-center justify-between"},Vi=["data-width"],Qi={class:"flex flex-col items-center space-y-6 mt-8"},Ji=["data-color"],qi={key:0,src:Hi,alt:""},Ki={key:1,src:Wi,alt:""},$i={key:0,id:"ex3",class:"w-full h-full fixed inset-0"},ts={__name:"Index",setup(s){const{toggle:r,active:l}=K("sketchit"),u=K("state"),h=K("intro"),v=()=>{u.isEffecting=!u.isEffecting,r(),l.value?h.pause():h.play()};return(m,p)=>(A(),b("div",Xi,[d("div",zi,[d("div",Zi,[g(l)?(A(),b("img",ji)):it("",!0)]),g(l)?(A(),b("div",Fi,[d("div",Bi,[(A(),b(zt,null,Zt([25,20,15,10,5],(f,T)=>d("div",null,[d("div",{"data-control":"#ex3","data-width":f,class:"bg-white rounded-full",style:$({width:f+"px",height:f+"px"})},null,12,Vi)])),64))]),p[0]||(p[0]=hi('<div class="flex flex-col items-center space-y-6 mt-12" data-v-853897f1><div class="icon opacity-50" data-control="#ex3" data-tool="pen" data-v-853897f1><img src="'+Yi+'" width="25" height="50" data-v-853897f1></div><div class="icon opacity-50" data-control="#ex3" data-tool="eraser" data-v-853897f1><img src="'+Gi+'" data-v-853897f1></div><div class="icon" data-control="#ex3" data-options="undo" data-v-853897f1><img src="'+Li+'" width="34" height="34" data-v-853897f1></div><div class="icon" data-control="#ex3" data-options="redo" data-v-853897f1><img src="'+ki+'" width="34" height="34" data-v-853897f1></div></div>',1)),d("div",Qi,[(A(),b(zt,null,Zt(["#d50011","#f9df00","#0691d7","#8aaa1b","#fdfcf2"],f=>d("div",{"data-control":"#ex3","data-color":f,class:"w-[30px] h-[30px] rounded-full"},[d("div",{class:"w-full h-full rounded-full",style:$("background-color:"+f)},null,4)],8,Ji)),64))])])):it("",!0),d("div",{onClick:v,class:"relative"},[g(l)?(A(),b("img",Ki)):(A(),b("img",qi))])]),g(l)?(A(),b("div",$i)):it("",!0)]))}},es=be(ts,[["__scopeId","data-v-853897f1"]]);function is(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Xt={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var Te;function ss(){return Te||(Te=1,function(s){(function(r,l,u,h){var v=["","webkit","Moz","MS","ms","o"],m=l.createElement("div"),p="function",f=Math.round,T=Math.abs,G=Date.now;function W(t,e,i){return setTimeout(j(t,i),e)}function X(t,e,i){return Array.isArray(t)?(P(t,i[e],i),!0):!1}function P(t,e,i){var n;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==h)for(n=0;n<t.length;)e.call(i,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(i,t[n],n,t)}function vt(t,e,i){var n="DEPRECATED METHOD: "+e+`
`+i+` AT 
`;return function(){var a=new Error("get-stack-trace"),o=a&&a.stack?a.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",c=r.console&&(r.console.warn||r.console.log);return c&&c.call(r.console,n,o),t.apply(this,arguments)}}var C;typeof Object.assign!="function"?C=function(e){if(e===h||e===null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(e),n=1;n<arguments.length;n++){var a=arguments[n];if(a!==h&&a!==null)for(var o in a)a.hasOwnProperty(o)&&(i[o]=a[o])}return i}:C=Object.assign;var nt=vt(function(e,i,n){for(var a=Object.keys(i),o=0;o<a.length;)(!n||n&&e[a[o]]===h)&&(e[a[o]]=i[a[o]]),o++;return e},"extend","Use `assign`."),Ot=vt(function(e,i){return nt(e,i,!0)},"merge","Use `assign`.");function M(t,e,i){var n=e.prototype,a;a=t.prototype=Object.create(n),a.constructor=t,a._super=n,i&&C(a,i)}function j(t,e){return function(){return t.apply(e,arguments)}}function O(t,e){return typeof t==p?t.apply(e&&e[0]||h,e):t}function rt(t,e){return t===h?e:t}function F(t,e,i){P(mt(e),function(n){t.addEventListener(n,i,!1)})}function L(t,e,i){P(mt(e),function(n){t.removeEventListener(n,i,!1)})}function Bt(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function B(t,e){return t.indexOf(e)>-1}function mt(t){return t.trim().split(/\s+/g)}function tt(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function gt(t){return Array.prototype.slice.call(t,0)}function Vt(t,e,i){for(var n=[],a=[],o=0;o<t.length;){var c=t[o][e];tt(a,c)<0&&n.push(t[o]),a[o]=c,o++}return n=n.sort(function(E,x){return E[e]>x[e]}),n}function At(t,e){for(var i,n,a=e[0].toUpperCase()+e.slice(1),o=0;o<v.length;){if(i=v[o],n=i?i+a:e,n in t)return n;o++}return h}var Se=1;function xe(){return Se++}function Qt(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||r}var Ne=/mobile|tablet|ip(ad|hone|od)|android/i,Jt="ontouchstart"in r,Ce=At(r,"PointerEvent")!==h,Oe=Jt&&Ne.test(navigator.userAgent),at="touch",we="pen",wt="mouse",Re="kinect",Pe=25,S=1,V=2,I=4,N=8,Tt=1,ot=2,lt=4,ht=8,ct=16,U=ot|lt,Q=ht|ct,qt=U|Q,Kt=["x","y"],It=["clientX","clientY"];function w(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(n){O(t.options.enable,[t])&&i.handler(n)},this.init()}w.prototype={handler:function(){},init:function(){this.evEl&&F(this.element,this.evEl,this.domHandler),this.evTarget&&F(this.target,this.evTarget,this.domHandler),this.evWin&&F(Qt(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&L(this.element,this.evEl,this.domHandler),this.evTarget&&L(this.target,this.evTarget,this.domHandler),this.evWin&&L(Qt(this.element),this.evWin,this.domHandler)}};function De(t){var e,i=t.options.inputClass;return i?e=i:Ce?e=Pt:Oe?e=bt:Jt?e=Dt:e=Et,new e(t,Ue)}function Ue(t,e,i){var n=i.pointers.length,a=i.changedPointers.length,o=e&S&&n-a===0,c=e&(I|N)&&n-a===0;i.isFirst=!!o,i.isFinal=!!c,o&&(t.session={}),i.eventType=e,_e(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function _e(t,e){var i=t.session,n=e.pointers,a=n.length;i.firstInput||(i.firstInput=$t(e)),a>1&&!i.firstMultiple?i.firstMultiple=$t(e):a===1&&(i.firstMultiple=!1);var o=i.firstInput,c=i.firstMultiple,y=c?c.center:o.center,E=e.center=te(n);e.timeStamp=G(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=Rt(y,E),e.distance=yt(y,E),Ye(i,e),e.offsetDirection=ie(e.deltaX,e.deltaY);var x=ee(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=x.x,e.overallVelocityY=x.y,e.overallVelocity=T(x.x)>T(x.y)?x.x:x.y,e.scale=c?ke(c.pointers,n):1,e.rotation=c?Le(c.pointers,n):0,e.maxPointers=i.prevInput?e.pointers.length>i.prevInput.maxPointers?e.pointers.length:i.prevInput.maxPointers:e.pointers.length,Ge(i,e);var Y=t.element;Bt(e.srcEvent.target,Y)&&(Y=e.srcEvent.target),e.target=Y}function Ye(t,e){var i=e.center,n=t.offsetDelta||{},a=t.prevDelta||{},o=t.prevInput||{};(e.eventType===S||o.eventType===I)&&(a=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=a.x+(i.x-n.x),e.deltaY=a.y+(i.y-n.y)}function Ge(t,e){var i=t.lastInterval||e,n=e.timeStamp-i.timeStamp,a,o,c,y;if(e.eventType!=N&&(n>Pe||i.velocity===h)){var E=e.deltaX-i.deltaX,x=e.deltaY-i.deltaY,Y=ee(n,E,x);o=Y.x,c=Y.y,a=T(Y.x)>T(Y.y)?Y.x:Y.y,y=ie(E,x),t.lastInterval=e}else a=i.velocity,o=i.velocityX,c=i.velocityY,y=i.direction;e.velocity=a,e.velocityX=o,e.velocityY=c,e.direction=y}function $t(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:f(t.pointers[i].clientX),clientY:f(t.pointers[i].clientY)},i++;return{timeStamp:G(),pointers:e,center:te(e),deltaX:t.deltaX,deltaY:t.deltaY}}function te(t){var e=t.length;if(e===1)return{x:f(t[0].clientX),y:f(t[0].clientY)};for(var i=0,n=0,a=0;a<e;)i+=t[a].clientX,n+=t[a].clientY,a++;return{x:f(i/e),y:f(n/e)}}function ee(t,e,i){return{x:e/t||0,y:i/t||0}}function ie(t,e){return t===e?Tt:T(t)>=T(e)?t<0?ot:lt:e<0?ht:ct}function yt(t,e,i){i||(i=Kt);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return Math.sqrt(n*n+a*a)}function Rt(t,e,i){i||(i=Kt);var n=e[i[0]]-t[i[0]],a=e[i[1]]-t[i[1]];return Math.atan2(a,n)*180/Math.PI}function Le(t,e){return Rt(e[1],e[0],It)+Rt(t[1],t[0],It)}function ke(t,e){return yt(e[0],e[1],It)/yt(t[0],t[1],It)}var He={mousedown:S,mousemove:V,mouseup:I},We="mousedown",Xe="mousemove mouseup";function Et(){this.evEl=We,this.evWin=Xe,this.pressed=!1,w.apply(this,arguments)}M(Et,w,{handler:function(e){var i=He[e.type];i&S&&e.button===0&&(this.pressed=!0),i&V&&e.which!==1&&(i=I),this.pressed&&(i&I&&(this.pressed=!1),this.callback(this.manager,i,{pointers:[e],changedPointers:[e],pointerType:wt,srcEvent:e}))}});var ze={pointerdown:S,pointermove:V,pointerup:I,pointercancel:N,pointerout:N},Ze={2:at,3:we,4:wt,5:Re},se="pointerdown",ne="pointermove pointerup pointercancel";r.MSPointerEvent&&!r.PointerEvent&&(se="MSPointerDown",ne="MSPointerMove MSPointerUp MSPointerCancel");function Pt(){this.evEl=se,this.evWin=ne,w.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}M(Pt,w,{handler:function(e){var i=this.store,n=!1,a=e.type.toLowerCase().replace("ms",""),o=ze[a],c=Ze[e.pointerType]||e.pointerType,y=c==at,E=tt(i,e.pointerId,"pointerId");o&S&&(e.button===0||y)?E<0&&(i.push(e),E=i.length-1):o&(I|N)&&(n=!0),!(E<0)&&(i[E]=e,this.callback(this.manager,o,{pointers:i,changedPointers:[e],pointerType:c,srcEvent:e}),n&&i.splice(E,1))}});var je={touchstart:S,touchmove:V,touchend:I,touchcancel:N},Fe="touchstart",Be="touchstart touchmove touchend touchcancel";function re(){this.evTarget=Fe,this.evWin=Be,this.started=!1,w.apply(this,arguments)}M(re,w,{handler:function(e){var i=je[e.type];if(i===S&&(this.started=!0),!!this.started){var n=Ve.call(this,e,i);i&(I|N)&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:at,srcEvent:e})}}});function Ve(t,e){var i=gt(t.touches),n=gt(t.changedTouches);return e&(I|N)&&(i=Vt(i.concat(n),"identifier")),[i,n]}var Qe={touchstart:S,touchmove:V,touchend:I,touchcancel:N},Je="touchstart touchmove touchend touchcancel";function bt(){this.evTarget=Je,this.targetIds={},w.apply(this,arguments)}M(bt,w,{handler:function(e){var i=Qe[e.type],n=qe.call(this,e,i);n&&this.callback(this.manager,i,{pointers:n[0],changedPointers:n[1],pointerType:at,srcEvent:e})}});function qe(t,e){var i=gt(t.touches),n=this.targetIds;if(e&(S|V)&&i.length===1)return n[i[0].identifier]=!0,[i,i];var a,o,c=gt(t.changedTouches),y=[],E=this.target;if(o=i.filter(function(x){return Bt(x.target,E)}),e===S)for(a=0;a<o.length;)n[o[a].identifier]=!0,a++;for(a=0;a<c.length;)n[c[a].identifier]&&y.push(c[a]),e&(I|N)&&delete n[c[a].identifier],a++;if(y.length)return[Vt(o.concat(y),"identifier"),y]}var Ke=2500,ae=25;function Dt(){w.apply(this,arguments);var t=j(this.handler,this);this.touch=new bt(this.manager,t),this.mouse=new Et(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}M(Dt,w,{handler:function(e,i,n){var a=n.pointerType==at,o=n.pointerType==wt;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(a)$e.call(this,i,n);else if(o&&ti.call(this,n))return;this.callback(e,i,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function $e(t,e){t&S?(this.primaryTouch=e.changedPointers[0].identifier,oe.call(this,e)):t&(I|N)&&oe.call(this,e)}function oe(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var i={x:e.clientX,y:e.clientY};this.lastTouches.push(i);var n=this.lastTouches,a=function(){var o=n.indexOf(i);o>-1&&n.splice(o,1)};setTimeout(a,Ke)}}function ti(t){for(var e=t.srcEvent.clientX,i=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var a=this.lastTouches[n],o=Math.abs(e-a.x),c=Math.abs(i-a.y);if(o<=ae&&c<=ae)return!0}return!1}var le=At(m.style,"touchAction"),he=le!==h,ce="compute",ue="auto",Ut="manipulation",J="none",ut="pan-x",dt="pan-y",Mt=ii();function _t(t,e){this.manager=t,this.set(e)}_t.prototype={set:function(t){t==ce&&(t=this.compute()),he&&this.manager.element.style&&Mt[t]&&(this.manager.element.style[le]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return P(this.manager.recognizers,function(e){O(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),ei(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented){e.preventDefault();return}var n=this.actions,a=B(n,J)&&!Mt[J],o=B(n,dt)&&!Mt[dt],c=B(n,ut)&&!Mt[ut];if(a){var y=t.pointers.length===1,E=t.distance<2,x=t.deltaTime<250;if(y&&E&&x)return}if(!(c&&o)&&(a||o&&i&U||c&&i&Q))return this.preventSrc(e)},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function ei(t){if(B(t,J))return J;var e=B(t,ut),i=B(t,dt);return e&&i?J:e||i?e?ut:dt:B(t,Ut)?Ut:ue}function ii(){if(!he)return!1;var t={},e=r.CSS&&r.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(i){t[i]=e?r.CSS.supports("touch-action",i):!0}),t}var St=1,R=2,et=4,z=8,k=z,pt=16,_=32;function H(t){this.options=C({},this.defaults,t||{}),this.id=xe(),this.manager=null,this.options.enable=rt(this.options.enable,!0),this.state=St,this.simultaneous={},this.requireFail=[]}H.prototype={defaults:{},set:function(t){return C(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(X(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=xt(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return X(t,"dropRecognizeWith",this)?this:(t=xt(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(X(t,"requireFailure",this))return this;var e=this.requireFail;return t=xt(t,this),tt(e,t)===-1&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(X(t,"dropRequireFailure",this))return this;t=xt(t,this);var e=tt(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,i=this.state;function n(a){e.manager.emit(a,t)}i<z&&n(e.options.event+de(i)),n(e.options.event),t.additionalEvent&&n(t.additionalEvent),i>=z&&n(e.options.event+de(i))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=_},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(_|St)))return!1;t++}return!0},recognize:function(t){var e=C({},t);if(!O(this.options.enable,[this,e])){this.reset(),this.state=_;return}this.state&(k|pt|_)&&(this.state=St),this.state=this.process(e),this.state&(R|et|z|pt)&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}};function de(t){return t&pt?"cancel":t&z?"end":t&et?"move":t&R?"start":""}function pe(t){return t==ct?"down":t==ht?"up":t==ot?"left":t==lt?"right":""}function xt(t,e){var i=e.manager;return i?i.get(t):t}function D(){H.apply(this,arguments)}M(D,H,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return e===0||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(R|et),a=this.attrTest(t);return n&&(i&N||!a)?e|pt:n||a?i&I?e|z:e&R?e|et:R:_}});function Nt(){D.apply(this,arguments),this.pX=null,this.pY=null}M(Nt,D,{defaults:{event:"pan",threshold:10,pointers:1,direction:qt},getTouchAction:function(){var t=this.options.direction,e=[];return t&U&&e.push(dt),t&Q&&e.push(ut),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,a=t.direction,o=t.deltaX,c=t.deltaY;return a&e.direction||(e.direction&U?(a=o===0?Tt:o<0?ot:lt,i=o!=this.pX,n=Math.abs(t.deltaX)):(a=c===0?Tt:c<0?ht:ct,i=c!=this.pY,n=Math.abs(t.deltaY))),t.direction=a,i&&n>e.threshold&&a&e.direction},attrTest:function(t){return D.prototype.attrTest.call(this,t)&&(this.state&R||!(this.state&R)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=pe(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}});function Yt(){D.apply(this,arguments)}M(Yt,D,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[J]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&R)},emit:function(t){if(t.scale!==1){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}});function Gt(){H.apply(this,arguments),this._timer=null,this._input=null}M(Gt,H,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ue]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,a=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(I|N)&&!a)this.reset();else if(t.eventType&S)this.reset(),this._timer=W(function(){this.state=k,this.tryEmit()},e.time,this);else if(t.eventType&I)return k;return _},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===k&&(t&&t.eventType&I?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=G(),this.manager.emit(this.options.event,this._input)))}});function Lt(){D.apply(this,arguments)}M(Lt,D,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[J]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&R)}});function kt(){D.apply(this,arguments)}M(kt,D,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:U|Q,pointers:1},getTouchAction:function(){return Nt.prototype.getTouchAction.call(this)},attrTest:function(t){var e=this.options.direction,i;return e&(U|Q)?i=t.overallVelocity:e&U?i=t.overallVelocityX:e&Q&&(i=t.overallVelocityY),this._super.attrTest.call(this,t)&&e&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&T(i)>this.options.velocity&&t.eventType&I},emit:function(t){var e=pe(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}});function Ct(){H.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}M(Ct,H,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ut]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,a=t.deltaTime<e.time;if(this.reset(),t.eventType&S&&this.count===0)return this.failTimeout();if(n&&a&&i){if(t.eventType!=I)return this.failTimeout();var o=this.pTime?t.timeStamp-this.pTime<e.interval:!0,c=!this.pCenter||yt(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,!c||!o?this.count=1:this.count+=1,this._input=t;var y=this.count%e.taps;if(y===0)return this.hasRequireFailures()?(this._timer=W(function(){this.state=k,this.tryEmit()},e.interval,this),R):k}return _},failTimeout:function(){return this._timer=W(function(){this.state=_},this.options.interval,this),_},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==k&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Z(t,e){return e=e||{},e.recognizers=rt(e.recognizers,Z.defaults.preset),new Ht(t,e)}Z.VERSION="2.0.7",Z.defaults={domEvents:!1,touchAction:ce,enable:!0,inputTarget:null,inputClass:null,preset:[[Lt,{enable:!1}],[Yt,{enable:!1},["rotate"]],[kt,{direction:U}],[Nt,{direction:U},["swipe"]],[Ct],[Ct,{event:"doubletap",taps:2},["tap"]],[Gt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var si=1,fe=2;function Ht(t,e){this.options=C({},Z.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=De(this),this.touchAction=new _t(this,this.options.touchAction),ve(this,!0),P(this.options.recognizers,function(i){var n=this.add(new i[0](i[1]));i[2]&&n.recognizeWith(i[2]),i[3]&&n.requireFailure(i[3])},this)}Ht.prototype={set:function(t){return C(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?fe:si},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,a=e.curRecognizer;(!a||a&&a.state&k)&&(a=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],e.stopped!==fe&&(!a||i==a||i.canRecognizeWith(a))?i.recognize(t):i.reset(),!a&&i.state&(R|et|z)&&(a=e.curRecognizer=i),o++}},get:function(t){if(t instanceof H)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(X(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(X(t,"remove",this))return this;if(t=this.get(t),t){var e=this.recognizers,i=tt(e,t);i!==-1&&(e.splice(i,1),this.touchAction.update())}return this},on:function(t,e){if(t!==h&&e!==h){var i=this.handlers;return P(mt(t),function(n){i[n]=i[n]||[],i[n].push(e)}),this}},off:function(t,e){if(t!==h){var i=this.handlers;return P(mt(t),function(n){e?i[n]&&i[n].splice(tt(i[n],e),1):delete i[n]}),this}},emit:function(t,e){this.options.domEvents&&ni(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(!(!i||!i.length)){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&ve(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function ve(t,e){var i=t.element;if(i.style){var n;P(t.options.cssProps,function(a,o){n=At(i.style,o),e?(t.oldCssProps[n]=i.style[n],i.style[n]=a):i.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function ni(t,e){var i=l.createEvent("Event");i.initEvent(t,!0,!0),i.gesture=e,e.target.dispatchEvent(i)}C(Z,{INPUT_START:S,INPUT_MOVE:V,INPUT_END:I,INPUT_CANCEL:N,STATE_POSSIBLE:St,STATE_BEGAN:R,STATE_CHANGED:et,STATE_ENDED:z,STATE_RECOGNIZED:k,STATE_CANCELLED:pt,STATE_FAILED:_,DIRECTION_NONE:Tt,DIRECTION_LEFT:ot,DIRECTION_RIGHT:lt,DIRECTION_UP:ht,DIRECTION_DOWN:ct,DIRECTION_HORIZONTAL:U,DIRECTION_VERTICAL:Q,DIRECTION_ALL:qt,Manager:Ht,Input:w,TouchAction:_t,TouchInput:bt,MouseInput:Et,PointerEventInput:Pt,TouchMouseInput:Dt,SingleTouchInput:re,Recognizer:H,AttrRecognizer:D,Tap:Ct,Pan:Nt,Swipe:kt,Pinch:Yt,Rotate:Lt,Press:Gt,on:F,off:L,each:P,merge:Ot,extend:nt,assign:C,inherit:M,bindFn:j,prefixed:At});var ri=typeof r<"u"?r:typeof self<"u"?self:{};ri.Hammer=Z,s.exports?s.exports=Z:r[u]=Z})(window,document,"Hammer")}(Xt)),Xt.exports}var ns=ss();const rs=is(ns),as={__name:"_Action",props:{type:{type:String,default:"click"},message:{type:String,default:"請進行互動"}},emits:["completed"],setup(s,{emit:r}){const l=s,u=r,h=q(null);function v(){u("completed")}return ye(()=>{h.value&&(l.type==="click"?h.value.addEventListener("click",v):l.type==="doubleClick"?h.value.addEventListener("dblclick",v):l.type==="swipe"&&new rs(h.value).on("swipe",v))}),ci(()=>{h.value&&(l.type==="click"?h.value.removeEventListener("click",v):l.type==="doubleClick"&&h.value.removeEventListener("dblclick",v))}),(m,p)=>(A(),b("div",{class:"gesture-overlay",ref_key:"overlay",ref:h},[d("p",null,Me(s.message),1)],512))}},os=be(as,[["__scopeId","data-v-916e03c5"]]),ls={class:"w-full h-full"},hs={class:""},cs=["src"],ds={__name:"Main",setup(s){const r=ui();K("state");const u=K("chapters").find(j=>j.id==r.params.id),h=Pi();Wt("menu",h);const{active:v}=h,m=Ui({domId:"#ex3"});Wt("sketchit",m);const{active:p}=m,f=Di(u.pauses),{videoPlayer:T,onTimeUpdate:G,currentPause:W,showActionComponent:X,onActionCompleted:P,play:vt,pause:C,replay:nt}=f;Wt("intro",f);const Ot=()=>{vt()},M=()=>{C()};return(j,O)=>{var rt,F;return A(),b("div",ls,[d("div",{class:st(["absolute right-[100px] top-[95px] w-[300px] z-50 flex flex-col items-center",g(p)?"pointer-events-none":""])},[d("div",{class:"cursor-pointer",onClick:O[0]||(O[0]=L=>j.$router.push({name:"welcome"}))},O[3]||(O[3]=[d("img",{class:"w-[154px]",src:di,alt:""},null,-1)])),d("div",{class:"mt-[43px] py-[5px] px-3 border-y-2 border-[#c79f62] text-white text-[1.24rem] font-bold text-center",onClick:O[1]||(O[1]=(...L)=>g(nt)&&g(nt)(...L))},Me(g(u).title),1)],2),d("div",hs,[d("video",{ref_key:"videoPlayer",ref:T,autoplay:"",muted:"",disablePictureInPicture:"",onTimeupdate:O[2]||(O[2]=(...L)=>g(G)&&g(G)(...L)),controlslist:"nodownload"},[d("source",{id:"source",src:g(u).video,type:"video/mp4"},null,8,cs)],544)]),g(X)?(A(),ft(os,{key:0,type:(rt=g(W))==null?void 0:rt.type,message:(F=g(W))==null?void 0:F.message,onCompleted:g(P)},null,8,["type","message","onCompleted"])):it("",!0),Ee(Ri,{class:"absolute bottom-0 left-0 w-full",onClose:Ot,onOpen:M}),g(v)?it("",!0):(A(),ft(es,{key:1}))])}}};export{ds as default};
